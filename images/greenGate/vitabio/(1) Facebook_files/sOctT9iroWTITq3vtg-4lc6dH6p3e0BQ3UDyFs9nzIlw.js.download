if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWBadgeContainer.bs",["CometBadgeContainer.react"],(function(a,b,c,d,e,f){"use strict";a=b("CometBadgeContainer.react");f.make=a}),null);
__d("MWCMInboxLeftRailSidebarLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={sidebar:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},sidebarCollapsed:{width:"ljni7pan"},sidebarExpanded:{width:"fc445elz"}};function a(a){var b=a.children,d=a.isCollapsed;a=a.xstyle;return h.jsx("div",{"aria-expanded":!d,className:c("stylex")([i.sidebar,d?i.sidebarCollapsed:i.sidebarExpanded,a]),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWEntryPointSetup",["CometRouteParams","LSThreadAttributionStore.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("CometRouteParams").useRouteParams(),b=a.source_id,c=a.thread_key;h(function(){typeof c==="string"&&typeof b==="string"&&d("LSThreadAttributionStore.re").setLSMessagingThreadAttribution(c,b)},[c,b])}g["default"]=a}),98);
__d("MWCMInboxLeftRailHeader.bs",["cr:11111"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11111").make;f.$MWCMMDSInboxLeftRailHeader$OR$MWCMTetraInboxLeftRailHeader$requireCond=b("cr:11111");f.make=a}),null);
__d("MWInboxHomeRoot.bs",["fbt","CometErrorBoundary.re","CometPlaceholder.react","CometScrollView.react","CometTopNavListDropdown.react","LS.bs","LSClearMessageSearchTable","LSClearTables","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSTransaction.bs","Locale","LsSystemFolder.bs","MWCMInboxLeftRailHeader.bs","MWInboxActiveNowTrayContainer.bs","MWInboxLeftRailContentPlaceholder.react","MWInboxLeftRailPlaceholder.react","MWInboxLeftRailSearch.bs","MWInboxSelectedThread.bs","MWLeftRailComponent.react","MWMessageSearchResults.bs","MWQuickPromotionThreadlistBannerContainer.react","MWText.react","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MessengerWebEntryPoint","bs_caml","bs_caml_option","bs_curry","cr:1936","cr:3481","cr:4097","deferredLoadComponentForReason","promiseDone","react","recoverableViolation","requestAnimationFrame","requireDeferredForDisplay","stylex","useDebounced","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");e=b("cr:3481")==null?void 0:b("bs_caml_option").some(b("cr:3481"));var k=b("Locale").isRTL(),l={page:{position:"pmk7jnqg",opacity:"b5wmifdl",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"b7h9ocf4",width:"k4urcfbm",height:"datstx6m",display:"j83agx80"},pageHidden:{visibility:"kr9hpln1"},pageVisible:{opacity:"pedkr2u6"},header:{"@media (max-width: 900px)":{display:"ahb00how"}},infoBox:{marginTop:"qjjbsfad",marginEnd:"cxmmr5t8",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",paddingTop:"pybr56ya",paddingEnd:"oj5qckz4",paddingBottom:"f10w8fjw",paddingStart:"lb8aey2d"},leftRail:{width:"k4urcfbm"}},m=b("cr:4097")==null?void 0:b("bs_caml_option").some(b("cr:4097")),n={},o={};function p(a){var c=a.info,d=a.parentThreadKey,e=a.title;a=a.entryPoint;var f=b("MWInboxSelectedThread.bs").useHook(void 0);d={parentThreadKey:d,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:g._("__JHASH__UqCAjgG6ioY__JHASH__")};f!==void 0&&(d.selectedThreadKey=f);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[e!==void 0?j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],title:e}):null,c!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(c)})}):null,j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWThreadList.bs").make,d),fallback:j.jsx(b("MWInboxLeftRailContentPlaceholder.react"),{})})]})}var q={make:p};function a(a){a=a.hidePage;return j.jsx(p,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").other,title:g._("__JHASH__N8crnPq-zd1__JHASH__"),entryPoint:"inboxSpam"})}a={make:a};function r(a){a=a.hidePage;return j.jsx(p,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._("__JHASH__Yxm-6KVT3xg__JHASH__"),entryPoint:"inboxFolder"})}var s={make:r};function t(a){a=a.hidePage;return j.jsx(p,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._("__JHASH__yJarfmqcRDP__JHASH__"),entryPoint:"inboxFolder"})}var u={make:t};function v(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("useReStore")(),f=b("MWInboxSelectedThread.bs").useHook(void 0),g=j.useRef(!1),h=j.useCallback(function(a){if(!g.current){g.current=!0;b("promiseDone")(b("LSTransaction.bs").run(e,function(a){var c=b("LS.bs").make(a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),c);return}},[e,c]);return j.jsx(b("MWMessageSearchResults.bs").make,{query:d,clearSearchResultsAndHidePage:h,selectedThreadKey:f,setIsConversationSearchVisible:a})}var w={make:v},x=b("requireDeferredForDisplay")("MAWUnsupportedBrowsersNuxWrapper.bs").__setRef("MWInboxHomeRoot.bs");function c(a,b,c){c={children:a};b!==void 0&&(c.marginHorizontal=b);return c}function y(a){return j.createElement(b("deferredLoadComponentForReason")(x).make,a)}c={makeProps:c,make:y};function z(a){var c=a.hidePage,d=a.pushPage,e=a.selectedThreadKey,f=a.setIsConversationSearchVisible,h=a.queries,m=a.pageComponents,n=a.pageCursor,o=a.isAnimating,p=b("useReStore")(),q=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(p,function(c){var d=b("LS.bs").make(c);return b("LSClearTables")(d).then(function(c){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readWrite"),function(c){return b("bs_curry")._1(d,function(b){return v({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:f})})})},[p,d,f]);j.useEffect(function(){return function(a){b("promiseDone")(b("LSTransaction.bs").run(p,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)}},[p]);var s=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(d,t);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(d,r);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[d]);a=j.useContext(b("MWThreadListNewMessageState.bs").context);var u=a.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:a.entries}):null;a=j.jsx(b("MWCMInboxLeftRailHeader.bs").make,{xstyle:b("bs_caml_option").some(l.header)});var w=j.useMemo(function(){return j.jsxs(j.Fragment,{children:[j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:j.jsx(y,{children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})})}),j.jsx(b("MWInboxLeftRailSearch.bs").make,{searchMessagesClicked:q})]})},[q]),x=j.useState(function(){return!1}),z=x[1],A=j.useMemo(function(){var a=h.actionNowTrayQueryRef;a={parentThreadKey:b("LsSystemFolder.bs").inbox,header:a!==void 0?j.jsx(b("MWInboxActiveNowTrayContainer.bs").make,{actionNowTrayQueryRef:b("bs_caml_option").valFromOption(a)}):null,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:function(a){},responsive:!0,preamble:u,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:s,gridLabel:g._("__JHASH__UqCAjgG6ioY__JHASH__"),setHasScrolled:z};e!==void 0&&(a.selectedThreadKey=e);return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWThreadList.bs").make,a),fallback:j.jsx(b("MWInboxLeftRailContentPlaceholder.react"),{})})},[u,e,s]),B=b("cr:1936")==null?null:j.jsx(b("cr:1936").make,{}),C=b("cr:3481")==null?null:j.jsx(b("cr:3481").make,{});return j.jsx(j.Fragment,{children:n>0?m.map(function(a,e){return j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,(n-e|0)-1|0))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!o&&n!==(e+1|0)?l.pageHidden:!1,n===(e+1|0)?l.pageVisible:!1),children:j.createElement(a,{hidePage:c,pushPage:d})},String(e))}):j.jsx(b("MWLeftRailComponent.react"),{footer:B,header:a,primaryNav:A,search:w,xstyle:l.leftRail,preamble:C,hasScrolled:x[0]})})}var A={make:z};function d(a){var c=a.setIsConversationSearchVisible;a=a.queries;var d=b("MWInboxSelectedThread.bs").useHook(void 0),e=j.useState(function(){return!1}),f=e[1],g=j.useState(function(){return[]}),h=g[1];g=g[0];var i=j.useState(function(){return 0}),k=i[1],l=i[0];j.useCallback(function(a){return b("bs_curry")._1(f,function(a){return!1})},[f]);i=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(k,function(c){b("bs_curry")._1(h,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[f,k,h]),350,!0);var n=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(l<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(k,function(a){return a-1|0})}})},[g,l,f,k]);n=j.jsx(b("CometPlaceholder.react"),{children:j.jsx(z,{hidePage:n,pushPage:i,selectedThreadKey:d,setIsConversationSearchVisible:c,queries:a,pageComponents:g,pageCursor:l,isAnimating:e[0]}),fallback:j.jsx(b("MWInboxLeftRailPlaceholder.react"),{})});if(b("cr:4097")==null)return n;else return j.jsx(m.make,{children:n,activeIndex:l})}d=d;f.$MWEncryptedBackupsThreadListNux$requireCond=b("cr:3481");f.mwEncryptedBackupsThreadListNux=e;f.styles=l;f.$MWThreadListKeyCommandContext$OR$null$requireCond=b("cr:4097");f.MWInboxLeftRailContentPlaceholder=n;f.MWInboxLeftRailPlaceholder=o;f.ThreadListPage=q;f.Spam=a;f.Marketplace=s;f.Jobs=u;f.ThreadSearchResults=w;f.$MAWUnsupportedBrowsersNuxWrapper$DeferredForDisplay=x;f.DeferredMAWUnsupportedBrowsersNuxWrapper=c;f.$MessengerThreadlistFooterDesktopAppLink$requireCond=b("cr:1936");f.Inbox=A;f.make=d}),null);
__d("MWInboxHomeRoot.re",["MWInboxHomeRoot.bs"],(function(a,b,c,d,e,f){a=b("MWInboxHomeRoot.bs").make;f.make=a}),null);
__d("MWInboxHomeRoot.react",["MWInboxHomeRoot.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props;return h.jsx(d("MWInboxHomeRoot.re").make,{queries:a.queries,setIsConversationSearchVisible:a.setIsConversationSearchVisible})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxMaster.re",["MWInboxMaster.bs"],(function(a,b,c,d,e,f){a=b("MWInboxMaster.bs").make;f.make=a}),null);
__d("LSPlatformClientProviderWithImmediateLoadingStrategy.bs",["LSPlatformClient.bs","LSPlatformClientProvider.bs","Promise","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return b("Promise").resolve({make:b("LSPlatformClient.bs").make})}function a(a){var c=a.children;a=a.placeholder;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;return h.jsx(b("LSPlatformClientProvider.bs").make,{children:c,loadLSPlatformClient:i,placeholder:a})}c=a;f.loadLSPlatformClient=i;f.make=c}),null);
__d("LSPlatformClientProviderWithImmediateLoadingStrategy.re",["LSPlatformClientProviderWithImmediateLoadingStrategy.bs"],(function(a,b,c,d,e,f){a=b("LSPlatformClientProviderWithImmediateLoadingStrategy.bs").make;f.make=a}),null);
__d("MDSBoxSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M8 7.5a1 1 0 00-1 1V10a1 1 0 001 1h20a1 1 0 001-1V8.5a1 1 0 00-1-1H8z"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 13.5a.5.5 0 01.5-.5h17a.5.5 0 01.5.5v12a3 3 0 01-3 3H12a3 3 0 01-3-3v-12zm4.5 3.25c0-.69.56-1.25 1.25-1.25h6.5a1.25 1.25 0 110 2.5h-6.5c-.69 0-1.25-.56-1.25-1.25z"})]})}c=a;f.make=c}),null);
__d("MDSFriendsGenericSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M7.25 12.305C7.25 16.207 9.446 18 12 18s4.75-1.793 4.75-5.695C16.75 9.123 14.75 7 12 7s-4.75 2.123-4.75 5.305zM15.082 21.607c.39-.423.262-1.13-.296-1.269A11.576 11.576 0 0012 20c-4.835 0-9 2.985-9 6.665C3 27.405 3.37 28 4.06 28h7.81c.66 0 1.13-.675 1.13-1.335 0-1.97.83-3.697 2.082-5.058zM19.25 12.305C19.25 16.207 21.446 18 24 18s4.75-1.793 4.75-5.695C28.75 9.123 26.75 7 24 7s-4.75 2.123-4.75 5.305zM33 26.665c0 .74-.37 1.335-1.06 1.335H16.06c-.69 0-1.06-.595-1.06-1.335C15 22.985 19.165 20 24 20s9 2.985 9 6.665z"})})}c=a;f.make=c}),null);
__d("MDSMarketplaceSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M12.164 14.88A3 3 0 016.5 13.5c0-1.03.967-3.294 1.699-4.858C8.674 7.625 9.705 7 10.828 7h14.345c1.122 0 2.153.625 2.628 1.642.732 1.564 1.699 3.827 1.699 4.858a3 3 0 01-5.664 1.38c-.066-.126-.276-.126-.342 0a3 3 0 01-5.324.008c-.066-.126-.274-.126-.34 0a3 3 0 01-5.324-.008c-.066-.126-.276-.126-.342 0zM12.479 17.714a.267.267 0 00-.288 0 4.976 4.976 0 01-3.086.77c-.315-.024-.605.211-.605.528v7.984a2 2 0 002 2h4a1 1 0 001-1v-5a1 1 0 011-1h3a1 1 0 011 1v5a1 1 0 001 1h4a2 2 0 002-2v-7.984c0-.317-.29-.552-.605-.527a4.976 4.976 0 01-3.086-.77.267.267 0 00-.288 0c-.776.496-1.7.785-2.691.785-.99 0-1.911-.288-2.687-.783a.267.267 0 00-.286 0 4.975 4.975 0 01-2.687.783 4.976 4.976 0 01-2.691-.786z"})})}c=a;f.make=c}),null);
__d("MDSMessageDotsSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 28.074c6.394 0 11-4.467 11-10.57v-.002c0-6.103-4.606-10.498-11-10.498-6.392 0-10.998 4.395-11 10.498v.002c.001 2.091.415 3.98 1.384 5.562.458.747.563 1.664.29 2.5l-.728 2.41c-.2.614.373 1.188.964.986l3.668-1.125a4.26 4.26 0 012.39-.09c.953.232 1.967.327 3.032.327zM13 19.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm6.5-1.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm5 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})})}c=a;f.make=c}),null);
__d("MDSMessageSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 17.504c0 6.103-4.606 10.57-11 10.57-1.065 0-2.08-.095-3.032-.327a4.26 4.26 0 00-2.39.09L8.91 28.962c-.59.202-1.164-.372-.964-.985l.729-2.411a3.007 3.007 0 00-.291-2.5C7.414 21.484 7 19.596 7 17.504v-.002c0-6.103 4.607-10.498 11-10.498s11 4.395 11 10.498v.002z"})})}c=a;f.make=c}),null);
__d("MWCMInboxLeftRailSidebarContext.react",["MWInboxPersistedUIState","emptyFunction","qex","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useEffect,k=b.useMemo,l=e({isCollapsed:!1,setIsCollapsed:c("emptyFunction")});function a(a){var b;a=a.children;var e=c("useMatchMedia")("(max-width: 900px)");b=d("MWInboxPersistedUIState").usePersistedUIState(e||((b=c("qex")._("533"))!=null?b:!1),"__MWCMInboxLeftRailSidebar.isCollapsed__");var f=b[0],g=b[1];b=k(function(){return{isCollapsed:f,setIsCollapsed:g}},[f,g]);j(function(){g(function(a){return e||a})},[e,g]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return i(l)}};g["default"]=b}),98);
__d("MWCMInboxLeftRailSidebarButton.bs",["fbt","CometBadge.react","CometNumberedBadge.react","MDSListCell.react","MWBadgeContainer.bs","MWCMInboxLeftRailSidebarContext.react","MWPBumpEntityKey.bs","MWText.react","MWTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={badge:{marginTop:"n1l5q3vz"},content:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",height:"tv7at329",minHeight:"rz7trki1",display:"j83agx80",alignItems:"bp9cbjyn"},listCell:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",marginTop:"hop8lmos",marginEnd:"nkwizq5d",marginBottom:"scwd0bx6",marginStart:"roh60bw9"}};function a(a){var c=a.label,d=a.id,e=a.selected,f=a.url,h=a.icon,l=a.unreadCount;a=a.tooltipLabel;l=l!==void 0?l:0;a=a!==void 0?a:"";var m=b("MWCMInboxLeftRailSidebarContext.react").useHook(),n=l>0?g._("__JHASH__5eq1L7XgVIu__JHASH__",[g._param("inbox",c),g._param("unread count",String(l))]):c;a=a===""?c:a;a=j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{type:"headline4",children:a}),l>0?j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsx("span",{children:g._("__JHASH__WgUx8y8LUln__JHASH__",[g._param("unread count",String(l))])})]}):null]});var o=j.jsx(b("MDSListCell.react"),{content:l>0?j.jsx(b("MWBadgeContainer.bs").make,{badge:j.jsx("div",{className:(i||(i=b("stylex")))(k.badge),children:j.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,border:"white",size:8})}),badgeAlign:"topRight",children:h,expanding:!0}):h,contentXStyle:k.content,xstyle:[k.listCell],selected:e,size:"medium",onPress:function(a){return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar",d)},linkProps:{url:f},"aria-current":e?"page":"false","aria-label":n,expanding:!0});h=j.jsx(b("MDSListCell.react"),{addOnStart:h,addOnStartVerticalAlign:"center",addOnEnd:l>0?j.jsx(b("CometNumberedBadge.react"),{color:"blue",value:l}):null,content:j.jsx(b("MWText.react"),{color:"primary",type:"body3",children:c}),contentXStyle:k.content,xstyle:[k.listCell],selected:e,size:"medium",onPress:function(a){return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar",d)},linkProps:{url:f},"aria-current":e?"page":"false","aria-label":n,expanding:!0});if(m.isCollapsed)return j.jsx(b("MWTooltip.react"),{tooltip:a,align:"middle",position:"end",children:o},c);else return h}c=a;f.styles=k;f.make=c}),null);
__d("MWCMUseUnreadThreadCount.bs",["LsSystemFolder.bs","MWCMThreadTypes.bs","MWPIsThreadUnread.bs","ReQL.bs","ServerTime","bs_belt_Option","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("ServerTime").getMillis(),e=function(a){if(b("bs_caml").i64_eq(a.muteExpireTimeMs,b("bs_caml_int64").neg_one))return!0;else return b("bs_caml").i64_gt(a.muteExpireTimeMs,b("bs_caml_int64").of_float(d))};return h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:a,tl:0}),function(a){var c=b("MWCMThreadTypes.bs").isUnjoinedCMThread(a.threadType)&&b("bs_belt_Option").getWithDefault(a.hasPendingInvitation,!1);if(c)return!0;else if(!b("MWCMThreadTypes.bs").isUnjoinedCMThread(a.threadType)&&b("bs_caml").i64_neq(a.threadKey,b("LsSystemFolder.bs").mplace)&&b("MWPIsThreadUnread.bs").isThreadUnread(a))return!e(a);else return!1})},[c,JSON.stringify(a)])}f.useHook=a}),null);
__d("XMessengerDotComCometActiveContactsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/active/t/{thread_key}/",Object.freeze({}),["/active/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxActiveContactsRouteBuilder.bs",["CurrentEnvironment","XCometActiveContactsControllerRouteBuilder","XMessengerDotComCometActiveContactsControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";a=b("CurrentEnvironment").facebookdotcom?{buildURL:function(a){return b("XCometActiveContactsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return b("XCometActiveContactsControllerRouteBuilder").buildExtraURL("/messages/active/",a)}}:{buildURL:function(a){return b("XMessengerDotComCometActiveContactsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return b("XMessengerDotComCometActiveContactsControllerRouteBuilder").buildExtraURL("/active/",a)}};c=a.buildURL;d=a.buildURLWithoutThread;f.routeBuilderModule=a;f.buildURL=c;f.buildURLWithoutThread=d}),null);
__d("MWCMInboxLeftRailSidebarButtons.bs",["fbt","LsSystemFolder.bs","MDSBoxSvgIcon.bs","MDSFriendsGenericSvgIcon.bs","MDSMarketplaceSvgIcon.bs","MDSMessageDotsSvgIcon.bs","MDSMessageSvgIcon.bs","MWCMInboxLeftRailSidebarButton.bs","MWCMUseUnreadThreadCount.bs","MWInboxActiveContactsRouteBuilder.bs","MWInboxArchivedThreadsRouteBuilder.bs","MWInboxMarketplaceThreadsRouteBuilder.bs","MWInboxMessageRequestsRouteBuilder.bs","MWInboxRouteBuilder.bs","ReQLSubscription.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:3700","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.currentThreadKey;a=a.selected;c=c!==void 0?b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(c)}):b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildHomeURL,{});var d=g._("__JHASH___fM7rYecByV__JHASH__"),e=b("ReQLSubscription.bs").useArray(b("MWCMUseUnreadThreadCount.bs").useHook(b("LsSystemFolder.bs").inbox)).length;return i.jsx(b("MWCMInboxLeftRailSidebarButton.bs").make,{label:d,id:"chats",selected:a,url:c,icon:i.jsx(b("MDSMessageSvgIcon.bs").make,{color:a?"primary":"secondary",size:"24"}),unreadCount:e})}c={make:j};function k(a){var c=a.currentThreadKey;a=a.selected;c=c!==void 0?b("bs_curry")._1(b("MWInboxActiveContactsRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(c)}):b("bs_curry")._1(b("MWInboxActiveContactsRouteBuilder.bs").buildURLWithoutThread,{});var d=g._("__JHASH__g1NP4ePvrGx__JHASH__");return i.jsx(b("MWCMInboxLeftRailSidebarButton.bs").make,{label:d,id:"people",selected:a,url:c,icon:i.jsx(b("MDSFriendsGenericSvgIcon.bs").make,{color:a?"primary":"secondary",size:"24"})})}d={make:k};function l(a){var c=a.currentThreadKey;a=a.selected;c=c!==void 0?b("bs_curry")._1(b("MWInboxMarketplaceThreadsRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(c)}):b("bs_curry")._1(b("MWInboxMarketplaceThreadsRouteBuilder.bs").buildURLWithoutThread,{});var d=g._("__JHASH__sVj2giMeFzx__JHASH__"),e=b("ReQLSubscription.bs").useArray(b("MWCMUseUnreadThreadCount.bs").useHook(b("LsSystemFolder.bs").mplace)).length;return i.jsx(b("MWCMInboxLeftRailSidebarButton.bs").make,{label:d,id:"marketplace",selected:a,url:c,icon:i.jsx(b("MDSMarketplaceSvgIcon.bs").make,{color:a?"primary":"secondary",size:"24"}),unreadCount:e})}e={make:l};function m(a){var c=a.currentThreadKey;a=a.selected;c=c!==void 0?b("bs_curry")._1(b("MWInboxMessageRequestsRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(c)}):b("bs_curry")._1(b("MWInboxMessageRequestsRouteBuilder.bs").buildURLWithoutThread,{});var d=g._("__JHASH__M8qXUmhSWmW__JHASH__"),e=b("ReQLSubscription.bs").useArray(b("MWCMUseUnreadThreadCount.bs").useHook(b("LsSystemFolder.bs").pending)).length;return i.jsx(b("MWCMInboxLeftRailSidebarButton.bs").make,{label:d,id:"requests",selected:a,url:c,icon:i.jsx(b("MDSMessageDotsSvgIcon.bs").make,{color:a?"primary":"secondary",size:"24"}),unreadCount:e})}var n={make:m};function o(a){var c=a.currentThreadKey;a=a.selected;c=c!==void 0?b("bs_curry")._1(b("MWInboxArchivedThreadsRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(c)}):b("bs_curry")._1(b("MWInboxArchivedThreadsRouteBuilder.bs").buildURLWithoutThread,{});var d=g._("__JHASH__7hyNOs6Ck9U__JHASH__");return i.jsx(b("MWCMInboxLeftRailSidebarButton.bs").make,{label:d,id:"archived",selected:a,url:c,icon:i.jsx(b("MDSBoxSvgIcon.bs").make,{color:a?"primary":"secondary",size:"24"})})}var p={make:o},q=b("cr:3700")==null?void 0:b("bs_caml_option").some(b("cr:3700"));function a(a){var c,d=a.currentThreadKey;a=a.entityType;return i.jsxs(i.Fragment,{children:[i.jsx(j,{currentThreadKey:d,selected:(c=b("bs_caml_obj")).caml_equal(a,"home")}),i.jsx(k,{currentThreadKey:d,selected:c.caml_equal(a,"active")}),i.jsx(l,{currentThreadKey:d,selected:c.caml_equal(a,"marketplace")}),i.jsx(m,{currentThreadKey:d,selected:c.caml_equal(a,"message_requests")}),i.jsx(o,{currentThreadKey:d,selected:c.caml_equal(a,"archived")}),b("cr:3700")==null?null:i.jsx(b("cr:3700").make,{currentThreadKey:d,selected:b("bs_caml_obj").caml_equal(a,"business_support")})]})}var r;a=a;f.SidebarButton=r;f.Home=c;f.ActiveContacts=d;f.Marketplace=e;f.MessageRequests=n;f.Archived=p;f.$MWCMInboxLeftRailSidebarBusinessSupportButton$OR$null$requireCond=b("cr:3700");f.businessSupportSidebarButton=q;f.make=a}),null);
__d("MDSNoProfilePictureSvg.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.size;a=a!==void 0?a:"36";return h.jsxs("svg",{width:a,height:a,viewBox:"0 0 100 100",fill:"none",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z",fill:"#9BA0A8",fillOpacity:"0.5"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50.8333 66.6665C38.6402 66.6665 28.2008 71.8541 23.6611 79.2551C23.4411 79.6156 23.3333 80.0346 23.3333 80.4556C23.3333 81.1559 23.6421 81.8291 24.1942 82.2709C31.4711 88.1171 40.7154 91.6665 50.8333 91.6665C60.9511 91.6665 70.1954 88.1171 77.4723 82.2709C78.0244 81.8291 78.3333 81.1559 78.3333 80.4556C78.3333 80.0346 78.2254 79.6156 78.0054 79.2551C73.4657 71.8541 63.0263 66.6665 50.8333 66.6665Z",fill:"white",fillOpacity:"0.5"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.9991 16.6665C40.015 16.6665 31.6667 25.4126 31.6667 36.7616C31.6667 51.5425 40.1494 58.3332 49.9991 58.3332C59.8507 58.3332 68.3334 51.5425 68.3334 36.7616C68.3334 25.4126 59.9872 16.6665 49.9991 16.6665Z",fill:"white",fillOpacity:"0.5"})]})}c=a;f.make=c}),null);
__d("MWCMProfilePhotoMenu.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometPressable.react","LSMediaUrl.bs","MDSNoProfilePictureSvg.bs","MDSRow.react","MDSRowItem.react","MWCMInboxLeftRailSidebarContext.react","MWInboxSettingsMenuButton.bs","MWPActor.bs","MWPBumpEntityKey.bs","MWProfilePhoto.react","MWText.react","ReQL.bs","ReQLSubscription.bs","TetraCircleButton.react","bs_curry","fbicon","react","requireDeferred","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react");c=b("requireDeferred")("MWInboxSettingsMenu.react").__setRef("MWCMProfilePhotoMenu.bs");var l={actorName:{width:"cwc3wgwd"},pressableOverlay:{maxWidth:"d2edcug0"},profileMenu:{borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",width:"k4urcfbm"},profileMenuCollapsed:{borderTopStartRadius:"qavdm89g",borderTopEndRadius:"gsh9l1b6",borderBottomEndRadius:"lwukve8w",borderBottomStartRadius:"jpyiy761",marginBottom:"bi6gxh9e"},profilePictureCollapsed:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},root:{width:"k4urcfbm"},row:{backgroundColor:"hybvsw6c",paddingEnd:"d1544ag0"}};function m(a){var c=a.isCollapsed;a=a.children;if(c)return k.jsx(b("CometColumn.react"),{verticalAlign:"center",align:"center",paddingTop:16,paddingVertical:12,children:a});else return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:12,align:"justify",verticalAlign:"center",expanding:!0,spacing:0,xstyle:[l.row],children:a})}d={make:m};function n(a){var c=a.isCollapsed,d=a.expanding;a=a.children;c=c!==void 0?c:!1;d=d!==void 0?d:!1;if(c)return k.jsx(b("CometColumnItem.react"),{expanding:d,children:a});else return k.jsx(b("MDSRowItem.react"),{expanding:d,children:a})}e={make:n};function o(a){a=a.isSmallViewport;var c=b("MWPActor.bs").useActor(void 0),d=b("useReStore")(),e=b("MWCMInboxLeftRailSidebarContext.react").useHook(),f=e.setIsCollapsed,i=e.isCollapsed;e=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c,tl:0})},[d,c]));if(e!==void 0){var j=e.firstName;j=[j!==void 0?j:e.name,b("LSMediaUrl.bs").Contact.profilePictureUrl(e)]}else j=["",""];var o=j[1],p=j[0];return k.jsxs(m,{isCollapsed:i,children:[k.jsx(n,{isCollapsed:i,expanding:!0,children:k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",expanding:!0,xstyle:[i?l.profileMenuCollapsed:l.profileMenu],children:k.jsx(b("MWInboxSettingsMenuButton.bs").make,{children:function(a,c){return k.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__WT3u01jgr7W__JHASH__"),ref:a,onPress:function(a){b("bs_curry")._1(c,void 0);return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","profile_overflow_menu")},xstyle:function(a){return[l.pressableOverlay]},children:k.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",spacing:8,children:[k.jsx(b("MDSRowItem.react"),{xstyle:[i?l.profilePictureCollapsed:!1],children:o===""?k.jsx(b("MDSNoProfilePictureSvg.bs").make,{}):k.jsx(b("MWProfilePhoto.react"),{alt:p,size:32,source:{uri:o}})}),i?null:k.jsx(b("MDSRowItem.react"),{xstyle:[l.actorName],children:k.jsx(b("MWText.react"),{color:"primary",type:"headline4",numberOfLines:2,children:p})})]})})},showMessageRequests:function(a){},showHidden:function(a){},showActiveContacts:function(a){},showRestrictedAccounts:!0})})}),a?null:k.jsx(n,{isCollapsed:i,children:k.jsx(b("TetraCircleButton.react"),{color:"primary",icon:i?b("fbicon")._(h("557027"),16):b("fbicon")._(h("557023"),16),label:i?g._("__JHASH__YNyPLI8TOgj__JHASH__"):g._("__JHASH__CCLi--q33vr__JHASH__"),onPress:function(a){return b("bs_curry")._1(f,function(a){return!a})},size:36,type:"normal"})})]})}var p={make:o};function a(a){a=a.isSmallViewport;return k.jsx("div",{className:(j||(j=b("stylex")))(l.root),children:k.jsx(b("CometPlaceholder.react"),{children:k.jsx(o,{isSmallViewport:a}),fallback:null})})}a=a;f.mwInboxSettingsMenu=c;f.styles=l;f.Layout=d;f.LayoutItem=e;f.Impl=p;f.make=a}),null);
__d("MWCMInboxLeftRailSidebar.bs",["CometColumn.react","CometColumnItem.react","CometPagelet.react","CometScrollView.react","MWCMInboxLeftRailSidebarButtons.bs","MWCMInboxLeftRailSidebarContext.react","MWCMInboxLeftRailSidebarLayout.react","MWCMProfilePhotoMenu.bs","bs_belt_Option","bs_caml_format","bs_caml_option","cr:1606","react","useCometEntityKey","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1606")==null?void 0:b("bs_caml_option").some(b("cr:1606")),j={scrollView:{height:"datstx6m",width:"k4urcfbm"},column:{height:"do00u71z"}};c={};function a(a){a=a.threadKey;var c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(b("useCometEntityKey")()),function(a){return[b("bs_caml_option").nullable_to_opt(a.entity_type),b("bs_caml_option").nullable_to_opt(a.entity_id)]}),[void 0,void 0]),d=c[0],e=b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string),f=b("useMatchMedia")("(max-width: 900px)"),g=b("MWCMInboxLeftRailSidebarContext.react").useHook();g=g.isCollapsed;return h.jsxs(b("MWCMInboxLeftRailSidebarLayout.react"),{isCollapsed:g,children:[h.jsx(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,hideScrollbar:g,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWCMInboxLeftRailSidebar",children:h.jsxs(b("CometColumn.react"),{align:"start",spacing:0,paddingHorizontal:8,paddingTop:12,xstyle:[j.column],children:[h.jsx(b("CometColumnItem.react"),{align:"stretch",testid:"mwcm-inbox-left-rail-sidebar-buttons",children:h.jsx(b("MWCMInboxLeftRailSidebarButtons.bs").make,{currentThreadKey:e,entityType:d})}),b("cr:1606")==null?null:h.jsx(b("CometColumnItem.react"),{paddingHorizontal:0,testid:"mwcm-inbox-left-rail-sidebar-folders",children:h.jsx(i.make,{threadKey:a,currentThreadKey:e,entityType:d,entityId:c[1]})})]})}),xstyle:j.scrollView}),h.jsx(b("MWCMProfilePhotoMenu.bs").make,{isSmallViewport:f})]})}d=a;f.$MWCMInboxLeftRailSidebarFolderList$requireCond=b("cr:1606");f.styles=j;f.MWCMInboxLeftRailSidebarLayout=c;f.make=d}),null);
__d("MWCMInboxLeftRailSidebar.re",["MWCMInboxLeftRailSidebar.bs"],(function(a,b,c,d,e,f){a=b("MWCMInboxLeftRailSidebar.bs").make;f.make=a}),null);
__d("MWInboxPlaceholderWithSidebar.react",["CometGlimmer.react","MWCMInboxLeftRailSidebarContext.react","MWCMInboxLeftRailSidebarLayout.react","MWInboxLayout.react","MWInboxPlaceholder.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={sidebar:{marginTop:"ku2m03ct"},textGlimmer:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"hm271qws",marginBottom:"bi6gxh9e",width:"gwo797ei"}};function j(){var a=c("MWCMInboxLeftRailSidebarContext.react").useHook();a=a.isCollapsed;return h.jsx(c("MWCMInboxLeftRailSidebarLayout.react"),{isCollapsed:a,xstyle:i.sidebar,children:h.jsxs(h.Fragment,{children:[h.jsx(c("CometGlimmer.react"),{className:c("stylex")(i.textGlimmer),index:1}),h.jsx(c("CometGlimmer.react"),{className:c("stylex")(i.textGlimmer),index:1}),h.jsx(c("CometGlimmer.react"),{className:c("stylex")(i.textGlimmer),index:1}),h.jsx(c("CometGlimmer.react"),{className:c("stylex")(i.textGlimmer),index:1})]})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){return h.jsx(d("MWInboxPlaceholder.react").MWInboxPlaceholder,babelHelpers["extends"]({sidebar:h.jsx(d("MWInboxLayout.react").LeftRailSidebarRow,{children:h.jsx(j,{})})},a))}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxSidebarPlaceholder=j;g.MWInboxPlaceholderWithSidebar=a}),98);
__d("MWThreadListNewMessageState.re",["MWThreadListNewMessageState.bs"],(function(a,b,c,d,e,f){a=b("MWThreadListNewMessageState.bs").Provider.make;f.Provider_make=a;c=b("MWThreadListNewMessageState.bs").Provider;f.Provider=c}),null);
__d("MWInboxRoot.react",["BaseHeadingContext","CometErrorBoundary.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometPlaceholder.react","CometRelay","CometRouterFocusRegion.react","CometTransientDialogProvider.react","FBLogger","LSPlatformClientProviderWithImmediateLoadingStrategy.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWCMInboxLeftRailSidebar.re","MWCMInboxLeftRailSidebarContext.react","MWInbox.re","MWInboxLayout.react","MWInboxMaster.re","MWInboxPlaceholderWithSidebar.react","MWPConversationSearchContext.react","MWSetupPresenceReportingDeferred.react","MWThreadListNewMessageState.re","MWVisibleMessageContext.re","cr:1619","deferredLoadComponent","react","requireDeferred","stylex","useMWEntryPointSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k={contentArea:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb"},responsiveThreadList:{"@media (max-width: 900px)":{width:"g0mhvs5p"}},sidebar:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",width:"k4urcfbm"}},l=c("deferredLoadComponent")(c("requireDeferred")("MWUncaughtErrorState.react").__setRef("MWInboxRoot.react")),m=function(a){return h.jsx(l,{error:a})},n=function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("uncaught exception in MWInboxRoot. Error:"+a.message)};function a(a){var e=a.entryPoints,f=a.props.routeProps;a=a.queries;var g=j(!1),l=g[0];g=g[1];var o=i(c("BaseHeadingContext")),p="MWInboxHomeRoot.react"===e.contentEntryPoint.rootModuleID;c("useMWEntryPointSetup")();o=h.jsx("div",{className:c("stylex")([k.contentArea]),children:h.jsx(c("CometRouterFocusRegion.react"),{children:h.jsx(c("CometLeftRailLayoutContext").Provider,{value:!0,children:h.jsx(d("MWVisibleMessageContext.re").Provider_make,{children:h.jsx(c("BaseHeadingContext").Provider,{value:o+1,children:h.jsx(d("MWInboxMaster.re").make,{isConversationSearchVisible:l,setIsConversationSearchVisible:g})})})})})});return h.jsxs(c("MWCMInboxLeftRailSidebarContext.react").Provider,{children:[h.jsxs(c("CometErrorBoundary.react"),{fallback:m,onError:n,children:[h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProviderWithImmediateLoadingStrategy.re").make,{placeholder:h.jsx(d("MWInboxPlaceholderWithSidebar.react").MWInboxPlaceholderWithSidebar,{}),children:h.jsx(d("MWThreadListNewMessageState.re").Provider_make,{children:h.jsx(d("MWInbox.re").make,{queries:a,refParam:(l=f.ref_param)!=null?l:void 0,threadKey:(l=f.thread_key)!=null?l:void 0,children:h.jsx(d("MWInboxLayout.react").Container,{children:h.jsx(d("MWPConversationSearchContext.react").MWPConversationSearchContext,{children:h.jsxs(c("CometLeftRailPrimaryContext").Provider,{value:!1,children:[h.jsx(d("MWInboxLayout.react").LeftRail,{children:h.jsxs(d("MWInboxLayout.react").LeftRailRow,{children:[h.jsx(d("MWInboxLayout.react").LeftRailSidebarRow,{children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(d("MWInboxPlaceholderWithSidebar.react").MWInboxSidebarPlaceholder,{}),children:h.jsx(d("MWCMInboxLeftRailSidebar.re").make,{threadKey:(l=f.thread_key)!=null?l:void 0})})}),h.jsx(d("MWInboxLayout.react").LeftRailListRow,{xstyle:p?k.responsiveThreadList:null,children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx("div",{className:c("stylex")(k.sidebar),children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e.contentEntryPoint,props:{queries:a,routeProps:f,setIsConversationSearchVisible:g}})})})})]})}),h.jsx(d("MWInboxLayout.react").MainContent,{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:o})})]})})})})})})}),h.jsx(c("MWSetupPresenceReportingDeferred.react"),{})]}),b("cr:1619")?h.jsx(b("cr:1619"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMInboxLeftRailHeaderAuxiliary.bs",["fbt","CometPlaceholder.react","MWInboxHeaderPlaceholder.react","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"ozuftl9m"}},l=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{}),m=b("MessengerLSCreateVideoCallLink.react");c={make:m};function n(a){return j.jsxs(j.Fragment,{children:[b("MeetupExperiments").supportLinkCreation()?j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(m,{children:function(a){var c=a.ref,d={color:"primary",icon:a.icon,label:a.label,onPress:function(c){return b("bs_curry")._1(a.onPress,void 0)},size:36};c=c!==void 0?b("bs_caml_option").some(c):void 0;c!==void 0&&(d.ref=b("bs_caml_option").valFromOption(c));a.testid!==void 0&&(d.testid=a.testid);return j.jsx(b("TetraCircleButton.react"),d)}})}):null,j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:g._("__JHASH__uhF6__U4Uqu__JHASH__"),size:36,testid:"skytale-new-thread-button",linkProps:{url:l}})})]})}d={make:n};var o=b("MWInboxHeaderPlaceholder.react");e={make:o};function a(a){return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(n,{}),fallback:j.jsx(o,{})})}a=a;f.styles=k;f.newThreadUrl=l;f.MessengerLSCreateVideoCallLink=c;f.Impl=d;f.MWInboxHeaderPlaceholder=e;f.make=a}),null);
__d("MWCMTetraInboxLeftRailHeader.bs",["fbt","CometLeftRailHeader.react","MWCMInboxLeftRailHeaderAuxiliary.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.xstyle;var c={auxiliary:i.jsx(b("MWCMInboxLeftRailHeaderAuxiliary.bs").make,{}),title:g._("__JHASH__UqCAjgG6ioY__JHASH__")};a!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(a));return i.jsx(b("CometLeftRailHeader.react"),c)}c=a;f.make=c}),null);/*FB_PKG_DELIM*/
__d("CometHomeContactListItemsNoHover_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"enableMsys"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItemsNoHover_viewer",selections:[{condition:"enableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}]},{args:null,kind:"FragmentSpread",name:"MWChatContact_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsHeader_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactsHeader_viewer",selections:[{alias:null,args:null,concreteType:"JoinableVideoChatsViewerFields",kind:"LinkedField",name:"joinable_video_chats",plural:!1,selections:[{alias:"new_room_fbt",args:[{kind:"Literal",name:"type",value:"NEW_ROOM"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"joinable_video_chats_string",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:'joinable_video_chats_string(type:"NEW_ROOM")'}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContacts_RankedContactsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5594354710645692"}),null);
__d("CometHomeContacts_RankedContactsQuery.graphql",["CometHomeContacts_RankedContactsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeContacts_RankedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBInitialPresenceData",kind:"LinkedField",name:"initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBLSPresenceInitialPresenceData",kind:"LinkedField",name:"ls_initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ranked_contacts",plural:!0,selections:[c,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeContacts_RankedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBInitialPresenceData",kind:"LinkedField",name:"initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBLSPresenceInitialPresenceData",kind:"LinkedField",name:"ls_initial_presence_data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ranked_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[c,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContacts_RankedContactsQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContacts_RankedContactsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHomeContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"count",variableName:"count"},b=[a,{kind:"Variable",name:"enableMsys",variableName:"enableMsys"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"enableMsys"},{kind:"RootArgument",name:"noHovercards"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{condition:"enableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[a],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometHomeContactsHeader_viewer"},{condition:"noHovercards",kind:"Condition",passingValue:!1,selections:[{args:b,kind:"FragmentSpread",name:"CometHomeContactListItemsHoverCards_viewer"}]},{condition:"noHovercards",kind:"Condition",passingValue:!0,selections:[{args:b,kind:"FragmentSpread",name:"CometHomeContactListItemsNoHover_viewer"}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},b],storageKey:null},{condition:"presenceReadEnableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[b,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[b,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null}]}];return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:null,concreteType:"JoinableVideoChatsViewerFields",kind:"LinkedField",name:"joinable_video_chats",plural:!1,selections:[{alias:"new_room_fbt",args:[{kind:"Literal",name:"type",value:"NEW_ROOM"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"joinable_video_chats_string",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:'joinable_video_chats_string(type:"NEW_ROOM")'}],storageKey:null},{condition:"presenceReadEnableMsys",kind:"Condition",passingValue:!1,selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null}]},{condition:"noHovercards",kind:"Condition",passingValue:!1,selections:c},{condition:"noHovercards",kind:"Condition",passingValue:!0,selections:c}],storageKey:null}]}}();e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"},{kind:"RootArgument",name:"presenceReadEnableMsys"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"},{kind:"Variable",name:"enableMsys",variableName:"presenceReadEnableMsys"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};e.exports=a}),null);
__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("AppRoomsFilled16.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 16 16",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:h.jsx("path",{d:"M457.25 552.5H455v2.25a.75.75 0 0 1-1.5 0v-2.25h-2.25a.75.75 0 0 1 0-1.5h2.25v-2.25a.75.75 0 0 1 1.5 0V551h2.25a.75.75 0 0 1 0 1.5m6.38-4.435a.62.62 0 0 0-.64.047l-2.49 1.634v-1.394a1.854 1.854 0 0 0-1.852-1.852l-8.796.002a1.854 1.854 0 0 0-1.851 1.852v6.793c0 1.021.83 1.852 1.852 1.852l1.147-.002h7.648a1.854 1.854 0 0 0 1.852-1.851v-1.392l2.457 1.61a.641.641 0 0 0 .673.071.663.663 0 0 0 .37-.601v-6.167c0-.26-.142-.49-.37-.602"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("AppRoomsFilled16IconSvg.react",["AppRoomsFilled16.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("AppRoomsFilled16.svg.react"));g["default"]=a}),98);
__d("CometHomeContactListItems.react",["cr:697","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(b("cr:697"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSThreadAttributionStore.re",["LSThreadAttributionStore.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setSource,a,c);return a};f.setSource=a;c=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setLSMessagingThreadAttribution,a,c);return a};f.setLSMessagingThreadAttribution=c}),null);
__d("MWInboxRouteBuilder.re",["MWInboxRouteBuilder.bs"],(function(a,b,c,d,e,f){a=b("MWInboxRouteBuilder.bs").routeBuilderModule;f.routeBuilderModule=a}),null);
__d("MWLSPreloadThreadForContact.re",["MWLSPreloadThreadForContact.bs"],(function(a,b,c,d,e,f){a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser;f.usePreloaderForUser=a}),null);
__d("XCometActiveContactsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/active/t/{thread_key}/",Object.freeze({}),["/messages/active/"],void 0);b=a;g["default"]=b}),98);
__d("MWChatContact.react",["CometErrorBoundary.react","CometGlobalPanelGating","CometPlaceholder.react","CometRelay","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MWChatContact_profile.graphql","MWChatContact_viewer.graphql","MWInboxRouteBuilder.re","MWLSPreloadThreadForContact.re","TetraListCell.react","XCometActiveContactsControllerRouteBuilder","XCometStoriesControllerRouteBuilder","deferredLoadComponent","gkx","qex","react","recoverableViolation","requireDeferred","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=c("JSResourceForInteraction")("MWV2ChatTab.bs").__setRef("MWChatContact.react"),n=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWChatContact.react"));function a(a){var e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;g=g===void 0?!0:g;var o=a.profile,p=a.selected;p=p===void 0?!1:p;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_viewer.graphql"),a);var q=c("qex")._("1285");q=q===!0?(a==null?void 0:(q=a.presence_view_side_settings)==null?void 0:q.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContact_profile.graphql"),o);o=a.availability;var r=a.id,s=a.last_active_time,t=a.name,u=a.profile_picture,v=l(),w=v[0];v=v[1];var x,y="none";a=(a=a.story_bucket)==null?void 0:a.nodes;a=a?a[0]:null;if(a!=null){var z,A=a.id;z=(z=a.first_story_to_show)==null?void 0:z.id;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:(a=a.story_card_seen_state)==null?void 0:a.is_seen_by_viewer;a!=null&&(y=a?"seen":"unseen");if(y!=="none"&&A!=null&&z!=null){a=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:A,card_id:z,view_single:!0});x={prefetchQueriesOnHover:!0,url:a}}}A=k(function(){c("gkx")("1512630")&&d("JSScheduler").scheduleSpeculativeCallback(function(){m.preload()})},[]);var B=c("MWLSPreloadThreadForContact.re").usePreloaderForUser();z=k(function(){r!=null&&B(r)},[r,B]);a=c("useCometPreloader")("button",A,z);var C=a[0];A=a[1];var D=a[2],E=a[3];z=k(function(a){D!=null&&D(a),r!=null&&f(r,!1)},[D,r,f]);a=k(function(a){D!=null&&D(a),r!=null&&c("LSThreadAttributionStore.re").setSource(r,e)},[D,r,e]);var F=k(function(a){C(a),E(!0)},[C,E]);u=u==null?void 0:u.uri;if(r==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(t==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(u==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");o=o==="ACTIVE";q=q?s:void 0;s={addOn:o?{type:"availabilityBadge"}:q!=null?{border:"web-wash",time:q,type:"lastActiveTimeBadge"}:void 0,linkProps:x!=null?x:void 0,shape:"circle",size:d("CometGlobalPanelGating").isGlobalPanelEnabled()?24:36,source:{uri:u},storyStatus:y,type:"profile-photo"};q=c("gkx")("1950")||((o=c("qex")._("26"))!=null?o:!1);u=null;y=w!=null?w:r;q?u=c("CurrentEnvironment").facebookdotcom?c("XCometActiveContactsControllerRouteBuilder").buildURL({thread_key:y}):"/active/t/"+y+"/":u=w!=null?d("MWInboxRouteBuilder.re").routeBuilderModule.buildE2EEThreadURL({thread_key:w}):d("MWInboxRouteBuilder.re").routeBuilderModule.buildURL({thread_key:y});return j.jsxs(j.Fragment,{children:[j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(n,{id:r,updateThreadKey:v})})}),j.jsx(c("TetraListCell.react"),{addOnPrimary:s,disabled:!1,headline:t,level:4,linkProps:{preventLocalNavigation:g,url:u},onHoverIn:F,onHoverOut:A,onPress:g?z:a,selected:p,testid:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilterContacts",["CometHomeContactsConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=0,d=0;a=a.filter(function(a){if(d>=c("CometHomeContactsConfig").numContactsToFetch&&a.availability!=="ACTIVE")return!1;var e=a==null?void 0:a.id;if(e==null)return!1;a.availability==="ACTIVE"&&b++;d++;return!0});return{activeCount:b,filteredContacts:a}};g.filter=a}),98);
__d("CometHomeContactListItemsNoHover.react",["CometHomeContactListItemsNoHover_viewer.graphql","CometRelay","MWChatContact.react","MWChatFilterContacts","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.openTabForUser,f=a.updatedcontacts;a=a.viewer$key;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactListItemsNoHover_viewer.graphql"),a);f=(a=(a=g==null?void 0:g.chat_sidebar_contacts)!=null?a:f)!=null?a:[];a=d("MWChatFilterContacts").filter(f);f=a.filteredContacts;return i.jsx(i.Fragment,{children:f.map(function(a){return i.jsx("li",{children:i.jsx("div",{children:i.jsx(c("MWChatContact.react"),{entryPoint:"sidebarContactsList",openTabForUser:e,profile:a,viewer:g})})},a.id)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.memo(a,function(a,b){return b.preventReordering});g["default"]=e}),98);
__d("CometHomeContactsHeader.react",["fbt","AppRoomsFilled16IconSvg.react","CometEntryPointPopoverTrigger.react","CometGlobalPanelGating","CometHomeChatSettings.entrypoint","CometHomeContactsHeader_viewer.graphql","CometProgressRingIndeterminate.react","CometRelay","CometTooltip.react","CometTooltipGroup.react","CometUnitHeader.react","Dots3HorizontalFilled20IconSvg.react","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","RoomsLinkCreationSupported","TetraIcon.react","cometGetKeyCommandConfig","cr:942","cr:943","react","useLayerKeyCommands","useMWChatNewVideoChat"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useEffect,l=e.useMemo,m=h._("__JHASH__aqUE4f6aqXC__JHASH__"),n=h._("__JHASH__EjcWQXI8z-f__JHASH__"),o=h._("__JHASH__0VczyHdqI5I__JHASH__"),p=h._("__JHASH__sI0NH8bv2ZB__JHASH__");function a(a){var e;a=a.viewer;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactsHeader_viewer.graphql"),a);var f=c("useMWChatNewVideoChat")(),g=f[0];f=f[1];var h=b("cr:942")==null?void 0:b("cr:942").useHook("rhc_search_icon","sidebarSearch");e=(e=b("cr:943")==null?void 0:b("cr:943")("sidebarContactsList"))!=null?e:{};var q=e.onPress;e=babelHelpers.objectWithoutPropertiesLoose(e,["onPress"]);var r=(h=h)!=null?h:q;h=l(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",r)]},[r]);c("useLayerKeyCommands")(h);k(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);q=(a=(q=a.joinable_video_chats)==null?void 0:(h=q.new_room_fbt)==null?void 0:h.text)!=null?a:n;return j.jsx(c("CometUnitHeader.react"),{addOn_DEPRECATED:j.jsx("div",{className:"j83agx80",children:j.jsxs(c("CometTooltipGroup.react"),{children:[d("RoomsLinkCreationSupported").isLinkCreationSupported()?j.jsx(c("CometTooltip.react"),{align:"end",tooltip:q,children:f||!1?j.jsx("div",{className:"ozuftl9m tvfksri0 j83agx80 bp9cbjyn",children:j.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):j.jsx("div",{className:"ozuftl9m tvfksri0",children:j.jsx(c("TetraIcon.react"),{"aria-label":q,color:"secondary",disabled:f,icon:c("AppRoomsFilled16IconSvg.react"),onPress:function(){return g("fb_chat_side_bar")},size:16})})}):null,j.jsx(c("CometTooltip.react"),{align:"end",position:"below",tooltip:o,children:j.jsx("div",{className:"ozuftl9m tvfksri0",children:j.jsx(c("TetraIcon.react"),babelHelpers["extends"]({},e,{"aria-label":o,color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){return r()},size:16}))})}),j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,d){return j.jsx(c("CometTooltip.react"),{align:"end",position:"below",tooltip:p,children:j.jsx("div",{className:"ozuftl9m",children:j.jsx(c("TetraIcon.react"),{"aria-label":p,color:"secondary",icon:c("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){b()},ref:a,size:20})})})}})]})}),headline:m,headlineColor:d("CometGlobalPanelGating").isGlobalPanelEnabled()?"primary":"secondary",level:3})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContacts.react",["fbt","BaseContextualLayerAnchorRootContext","ChevronDownFilled16IconSvg.react","CometGlobalPanelGating","CometHomeContactListItems.react","CometHomeContactsHeader.react","CometHomeContactsPresenceAwareList.react","CometHomeContacts_RankedContactsQuery.graphql","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","FocusWithinHandler.react","MWChatFilterContacts","MessengerWebEventsFalcoEvent","TetraButton.react","TetraIcon.react","WebPixelRatio","qex","react","relay-runtime","requireDeferred","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useEffect,m=e.useRef,n=e.useState,o=c("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContacts.react"),p=i!==void 0?i:i=b("CometHomeContacts_RankedContactsQuery.graphql");function a(a){a=a.viewer$key;var e=m(document.body),f=d("CometRelay").useRelayEnvironment(),g=d("CometRelay").useFragment(j!==void 0?j:j=b("CometHomeContacts_viewer.graphql"),a);a=(a=c("qex")._("220"))!=null?a:!1;var i=null;if(a){a=d("relay-runtime").getRequest(p);a=d("relay-runtime").createOperationDescriptor(a,{scale:d("WebPixelRatio").get()});a=f.lookup(a.fragment).data;i=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.initial_presence_data)==null?void 0:(a=a.ls_initial_presence_data)==null?void 0:a.ranked_contacts}a=(a=(a=g==null?void 0:g.chat_sidebar_contacts)!=null?a:i)!=null?a:[];var q=(g==null?void 0:g.chat_sidebar_is_collapsed)===!0,r=n(!1),s=r[0],t=r[1];r=c("useMWChatOpenTabForUser")("sidebarContactsList");var u=r[0];r[1];var v=(g==null?void 0:g.chat_visibility)===!0;l(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);r=d("MWChatFilterContacts").filter(a);a=r.activeCount;r=r.filteredContacts;return k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:k.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:e,children:r.length>0?k.jsx(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!d("CometGlobalPanelGating").isGlobalPanelEnabled()&&!q,header:k.jsx(c("CometHomeContactsHeader.react"),{viewer:g}),children:q?k.jsx("div",{className:"dati1w0a sj5x9vvc hv4rvrfc cxgpxx05",children:k.jsx(c("TetraButton.react"),{addOnSecondary:k.jsx(c("TetraIcon.react"),{icon:c("ChevronDownFilled16IconSvg.react"),size:16}),label:h._("__JHASH__34dpQA6VY_Z__JHASH__",[h._param("active count",a)]),onPress:function(){o.onReadyImmediately(function(a){return a({environment:f,isCollapsed:!1})})},size:"medium",type:"secondary"})}):k.jsx("div",{onMouseEnter:function(){return t(!0)},onMouseLeave:function(){return t(!1)},children:k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:v,children:k.jsx(c("CometHomeContactListItems.react"),{activeStatusOn:v,openTabForUser:u,preventReordering:s||a||b,updatedcontacts:i,viewer$key:g})})}})})}):null})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.contactsHomeDefaultRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),a);a=a.viewer;return i.jsx(c("CometHomeContacts.react"),{viewer$key:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSFetchAggregatedUserPresenceCountsForCommunities",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("folder_ids",a[0]),d[0].set("use_case",[0,1]),d[1]=d[0].get("use_case"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["fetch_community_messaging_presence","_",c.i64.to_string(d[1])].join(""),[0,502],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=[64,1083495711],d[2]=[0,0],d[3]=[0,0],c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[0]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[0],mailboxType:[0,0],threadType:[0,2],clientThreadKey:d[0],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:[0,0],lastReadWatermarkTimestampMs:[0,0],snippetHasEmoji:!1,snippetSenderContactId:d[4],ongoingCallState:[0,0],authorityLevel:[0,20],capabilities:d[1],capabilities2:d[2],capabilities3:d[3],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[5]=c.i64.of_int32(a[0].length),c.i64.gt(d[5],[0,0])?c.loopAsync(d[5],function(e){return d[6]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[6]).then(function(a){return a=a,d[7]=a[0],d[8]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[0],d[7]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(a.contactId,d[7])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[0],contactId:d[7],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],f).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===!0?(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",[0,1]),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[2]),[0,153],d[3],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSReportAndFetchAggregatedCoPresenceCountsForCommunityChat",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("usecase",[0,2]),d[0].set("co_presence_object_id",a[0]),d[0].set("action",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ls_report_co_presence",[0,406],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWSwitch.react",["cr:1925","cr:1926","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.icon,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","size"]);if(b("cr:1925"))return h.jsx(b("cr:1925"),babelHelpers["extends"]({},a,{icon:c,size:d}));return b("cr:1926")?h.jsx(b("cr:1926"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSInboxNavigationHeaderWithBackButton.bs",["CometTopNavListDropdown.react","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.title,d=a.onReturn;a=a.endContent;a=a!==void 0?[b("bs_caml_option").valFromOption(a)]:[];a={actions:a,title:c};d!==void 0&&(a.onReturn=b("bs_caml_option").valFromOption(d));return h.jsx(b("CometTopNavListDropdown.react").Title,a)}c=a;f.make=c}),null);
__d("MWInboxNavigationHeaderWithBackButton.bs",["cr:2207"],(function(a,b,c,d,e,f){"use strict";a=b("cr:2207").make;f.$MDSInboxNavigationHeaderWithBackButton$OR$FDSInboxNavigationHeaderWithBackButton$requireCond=b("cr:2207");f.make=a}),null);
__d("MWInboxSelectedThread.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MWInboxProvider.bs").context);if(typeof a==="number")return;a=a._0;if(a!==void 0&&typeof a!=="number")return a._0}f.useHook=a}),null);
__d("LSCoPresenceAction.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.enter=a;f.exit=c}),null);
__d("MWCMFetchPresence.bs",["LS.bs","LSCoPresenceAction.bs","LSFetchAggregatedUserPresenceCountsForCommunities","LSReportAndFetchAggregatedCoPresenceCountsForCommunityChat","LSTransaction.bs","LSVec","MWCMThreadTypes.bs","MWCMUseFolder.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","bs_caml","bs_caml_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();h.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSFetchAggregatedUserPresenceCountsForCommunities")(b("LSVec").make([a.folderId]),b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[])}function c(a){var c=b("useReStore")(),d=b("MWCMUseFolder.bs").useHook(a);h.useEffect(function(){var e=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);if(e&&d!==void 0){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSReportAndFetchAggregatedCoPresenceCountsForCommunityChat")(a.threadKey,b("LSCoPresenceAction.bs").enter,d.folderId,b("LS.bs").make(c))},"readWrite"),void 0,void 0);return function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSReportAndFetchAggregatedCoPresenceCountsForCommunityChat")(a.threadKey,b("LSCoPresenceAction.bs").exit,d.folderId,b("LS.bs").make(c))},"readWrite"),void 0,void 0)}}},[c,JSON.stringify(a.threadKey),JSON.stringify(a.threadType),d])}function d(a){var c=b("useReStore")(),d=b("bs_caml_int64").of_float(b("ServerTime").getMillis()/1e3),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var e;return(e=b("ReQL.bs")).filter(e.filter(e.getKeyRange(e.fromTableDescending(c.table("community_messaging_aggregated_copresence_counts_for_chat")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_gt(a.numActiveMembers,b("bs_caml_int64").zero)}),function(a){return b("bs_caml").i64_gt(a.activeMembersNumExpirationTimestampMilliseconds,d)})},[c,a]));if(e!==void 0)return e.numActiveMembers;else return b("bs_caml_int64").neg_one}f.useFetchFolderAggregatedPresence=a;f.useReportCMThreadCoPresence=c;f.useCMThreadCoPresence=d}),null);
__d("MWInboxInfoNotifications.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWChatUnmuteThread.bs","MWPUseIsThreadMuted.bs","MessengerMuteUtils.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.children;a=b("MessengerMuteUtils.bs").calcMuteUntilMs(c);var e=b("MWPUseIsThreadMuted.bs").useHook(c),f=b("MWChatUnmuteThread.bs").useHook(void 0),h=e?g._("__JHASH__vpk4cwy2c0D__JHASH__"):g._("__JHASH__eAj1-l7LtAU__JHASH__");a=b("MessengerMuteUtils.bs").mutedUntilLabel(a===-1?a:a/1e3);var j=a!==void 0&&e?a:void 0,k=i.useRef(null);return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWInboxInfoNotifications.bs"),dialogProps:{onClose:function(a){},threadKey:c.threadKey},children:function(a){return b("bs_curry")._5(d,function(d){if(e)return b("bs_curry")._1(f,c);else return b("bs_curry")._1(a,void 0)},k,h,j,e)}})}c=a;f.make=c}),null);
__d("MWUIParticipantDetails.bs",["cr:607"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:607")).useParticipantName;d=a.useParticipantShortName;e=a.useParticipantSecondaryName;b=a.useNameAndGender;var g=a.useParticipantReachabilityStatus;f.$MWLSParticipantDetails$OR$WorkplaceMSParticipantDetails$requireCond=a;f.useParticipantName=c;f.useParticipantShortName=d;f.useParticipantSecondaryName=e;f.useNameAndGender=b;f.useParticipantReachabilityStatus=g}),null);
__d("MWPThreadPreview.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSLocalCreateOptimisticGroupThread","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVec","LSVerifyContactRowExists","LSVerifyThreadRowExists","MWPActor.bs","MWPThreadTheme.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","cr:2891","promiseDone","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"tgvbjcpo",fontSize:"jq4qci2q"},preview:{flexGrow:"buofh1pr",minHeight:"tgvbjcpo",display:"j83agx80",flexDirection:"cbu4d94t"},composer:{minHeight:"pxsmfnpt",flexShrink:"pfnyh3mw"}};function k(a){var c=b("useReStore")();i.useEffect(function(){b("LSTransaction.bs").run(c,function(c){return b("Promise").all(a.map(function(a){return b("LSVerifyContactRowExists")(a.id,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))}))},"readWrite")},[c,JSON.stringify(a.map(function(a){return b("bs_int64").to_string(a.id)}))])}function l(a){var c=a.thread,d=a.renderThreadView,e=a.renderThreadPreview;a=a.children;if(e!==void 0)return b("bs_curry")._2(e,c,a);else return i.jsx(b("MWThreadKey.bs").make,{id:c.threadKey,children:i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("div",{className:h(j.preview),children:i.jsx(b("MWPThreadTheme.bs").make,{themeFbid:c.themeFbid,children:b("bs_curry")._1(d,c)})}),i.jsx("div",{className:h(j.composer),children:a})]})})}c={make:l};function m(a){var c=a.recipientToken,d=a.setPreviewThread,e=a.renderThreadView,f=a.renderThreadPreview;a=a.children;var g=b("useReStore")(),h=c.threadType,j=c.id;k([c]);i.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(g,function(a){return b("LSVerifyThreadRowExists")(j,h,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[g,b("bs_int64").to_string(j),JSON.stringify(h)]);var m=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(g.table("threads")),{hd:j,tl:0})},[g,j]));i.useEffect(function(){b("bs_curry")._1(d,function(a){return m})},[m]);if(m!==void 0)return i.jsx(l,{thread:m,renderThreadView:e,renderThreadPreview:f,children:a});else return null}d={make:m};function n(a,c,d,e){var f=b("useReStore")(),g=b("bs_int64").to_string(b("MWPActor.bs").useActor(void 0)),h=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(f.table("participants")),function(a){return c.has(b("bs_int64").to_string(a.contactId))}),function(a){return b("bs_int64").to_string(a.threadKey)})},[f,c]));return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a,d=new Set(h);return(a=b("ReQL.bs")).filter(a.filter(a.filter(a.filter(a.fromTableAscending(f.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,e)}),function(a){return a.threadName===void 0}),function(a){a=a.clientThreadKey;if(a!==void 0)return d.has(b("bs_int64").to_string(a));else return!1}),function(a){a=a.clientThreadKey;if(a===void 0)return!1;a=b("ReQLSuspense").toArray(b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(f.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a,tl:0}),function(a){return b("bs_int64").to_string(a.contactId)}),function(a){return a!==g}));if(a.every(function(a){return c.has(a)}))return a.length===c.size;else return!1})},[f,h,c,g,JSON.stringify(e)]))}function o(a,c,d,e){var f=b("useReStore")();i.useEffect(function(){a===void 0&&b("promiseDone")(b("LSTransaction.bs").run(f,function(a){if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").group))return b("LSLocalCreateOptimisticGroupThread")(b("LSVec").make(d.map(function(a){return a.id})),void 0,e,b("LS.bs").make(a)).then(function(a){});else if(b("LSMessagingThreadTypeUtil.bs").isSecure(c))if(b("cr:2891")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:2891").call,a,d,c).then(function(a){});else{b("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type"+b("bs_belt_Option").getWithDefault(JSON.stringify(c),""),"messenger_web_product");return b("Promise").resolve(void 0)}},"readWrite"),void 0,void 0)},[f,d,JSON.stringify(a),JSON.stringify(c)])}function p(a){var c=a.tokens,d=a.tokensExcludingActor,e=a.tokenContactIdsExcludingActor,f=a.setPreviewThread,g=a.threadType,h=a.renderThreadView,j=a.renderThreadPreview,m=a.checkExistingThreads;a=a.children;var p=n(d,e,f,g);k(d);o(p,g,c,m);i.useEffect(function(){b("bs_curry")._1(f,function(a){return p})});if(p!==void 0)return i.jsx(l,{thread:p,renderThreadView:h,renderThreadPreview:j,children:a});else return null}e={useFindMatchingOptimisticThreadWithParticipants:n,useCreateOptimisticThreadForTokens:o,make:p};function q(a,c,d,e,f){var g=b("useReStore")(),h=b("bs_int64").to_string(b("MWPActor.bs").useActor(void 0)),j=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(g.table("participants")),function(a){return c.has(b("bs_int64").to_string(a.contactId))}),function(a){return b("bs_int64").to_string(a.threadKey)})},[g,c]));return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a,d=new Set(j);return(a=b("ReQL.bs")).filter(a.filter(a.filter(a.filter(a.filter(a.fromTableAscending(g.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,e)}),function(a){return a.threadName===void 0}),function(a){if(f)return!0;else return b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").optimistic)}),function(a){return d.has(b("bs_int64").to_string(a.threadKey))}),function(a){a=b("ReQLSuspense").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(g.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a.threadKey,tl:0}),function(a){return b("bs_int64").to_string(a.contactId)}));var d=a.filter(function(a){return a!==h});if(a.length===d.length||d.length!==c.size)return!1;else return d.every(function(a){return c.has(a)})})},[g,j,c,h,JSON.stringify(e)]))}function r(a){var c=a.tokensExcludingActor,d=a.tokens,e=a.threadType,f=a.setPreviewThread,g=a.renderThreadView,h=a.renderThreadPreview,j=a.checkExistingThreads;a=a.children;var k=i.useMemo(function(){return new Set(c.map(function(a){return b("bs_int64").to_string(a.id)}))},[c]),m=q(c,k,f,e,j);i.useEffect(function(){m!==void 0&&b("bs_curry")._1(f,function(a){return m})},[m]);if(m!==void 0)return i.jsx(l,{thread:m,renderThreadView:g,renderThreadPreview:h,children:a});else return i.jsx(p,{tokens:d,tokensExcludingActor:c,tokenContactIdsExcludingActor:k,setPreviewThread:f,threadType:e,renderThreadView:g,renderThreadPreview:h,checkExistingThreads:j,children:a})}var s={useFindExistingThreadWithTokens:q,make:r};function a(a){var c=a.tokens,d=a.areWeCreatingASecureThread,e=a.setPreviewThread,f=a.nullstate,g=a.renderThreadView,h=a.renderThreadPreview,j=a.checkExistingThreads;a=a.children;f=f!==void 0?b("bs_caml_option").valFromOption(f):null;j=j!==void 0?j:!0;var k=b("MWPActor.bs").useActor(void 0),l=i.useMemo(function(){return c.filter(function(a){return b("bs_caml").i64_neq(a.id,k)})},[c,k]);i.useEffect(function(){c.length===0&&b("bs_curry")._1(e,function(a){})},[c]);if(c.length===0)return f;var n=l.length;if(n!==1){if(n===0)if(d)return f;else return i.jsx(m,{recipientToken:b("bs_caml_array").get(c,0),setPreviewThread:e,renderThreadView:g,renderThreadPreview:h,children:a})}else{n=l[0];if(j)if(d)return i.jsx(r,{tokensExcludingActor:l,tokens:c,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne,setPreviewThread:e,renderThreadView:g,renderThreadPreview:h,checkExistingThreads:j,children:a});else return i.jsx(m,{recipientToken:n,setPreviewThread:e,renderThreadView:g,renderThreadPreview:h,children:a})}return i.jsx(r,{tokensExcludingActor:l,tokens:c,threadType:d?b("MessagingThreadType.bs").secureMessageOverWaGroup:b("MessagingThreadType.bs").group,setPreviewThread:e,renderThreadView:g,renderThreadPreview:h,checkExistingThreads:j,children:a})}var t=b("cr:2891");a=a;f.$MAWCreateOptimisticSecureThread$requireCondXplat=b("cr:2891");f.mawCreateOptimisticSecureThread=t;f.styles=j;f.ExistingThreadPreview=c;f.CanonicalThreadPreview=d;f.OptimisticThread=e;f.PossiblyOptimisticThread=s;f.make=a}),null);
__d("MWV2OnAuthoritativeThreadInsert.bs",["LSAuthorityLevel.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c.table("threads").index("clientThreadKey");c=b("ReQL.bs").fromIndexAscending(c);a=a[0];var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(c,{hd:a,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(d,a);return b("bs_curry")._1(e.contents,void 0)}})}f.onAuthoritativeThreadInsert=a}),null);/*FB_PKG_DELIM*/
__d("LSUpdateUserSettingsForCommunities",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[0].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[5]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(a){return d[8]=d[6].get("community_id"),d[6],d[9]=d[6].get("is_hidden"),d[6],c.fe(c.db.table(162).fetch([[[d[8]]]]),function(a){var b=a.update;a.item;return b({isHidden:d[9]})})}])}):c.resolve()},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("actor_id",d[1]),d[2].set("updates",a[0]),d[3]=d[2].get("actor_id"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),["update_user_settings_for_communities","_",c.i64.to_string(d[3])].join(""),[0,465],d[4],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MDSBellCrossSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M9.244 24.99h-.001L26.867 7.366a1.25 1.25 0 111.768 1.768l-3.296 3.295a2 2 0 00-.554 1.766l1.05 5.877a3 3 0 00.831 1.594l.92.92a1.414 1.414 0 01-1 2.414H13.597a2 2 0 00-1.414.586l-3.05 3.049a1.25 1.25 0 11-1.767-1.768l1.878-1.877z"}),h.jsx("path",{d:"M15.041 27.498c-.045-.273.183-.498.459-.498h5c.276 0 .504.226.459.498a3 3 0 01-5.918 0zm6.481-19.474a6.57 6.57 0 00-9.99 4.39L10.537 18l-.056.27c-.152.729.738 1.209 1.264.682l9.862-9.86c.312-.314.29-.83-.084-1.068z"})]})}c=a;f.make=c}),null);
__d("MWCMInboxLeftRailSidebarFolder.bs",["CometBadge.react","MDSBellCrossSvgIcon.bs","MDSListCell.react","MDSRow.react","MDSRowItem.react","MWBadgeContainer.bs","MWCMInboxLeftRailSidebarContext.react","MWCMUseUnreadThreadCount.bs","MWInboxCommunityThreadsRouteBuilder.bs","MWPBumpEntityKey.bs","MWProfilePhoto.react","MWText.react","MWTooltip.react","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badgeCollapsed:{position:"pmk7jnqg",right:"rezcb9oy",top:"sgn1ogh8"},badgeRowItem:{paddingEnd:"p8fzw8mz",paddingStart:"pcp91wgn"},content:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",height:"tv7at329",minHeight:"rz7trki1",display:"j83agx80",alignItems:"bp9cbjyn"},listCell:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",marginTop:"hop8lmos",marginEnd:"nkwizq5d",marginBottom:"scwd0bx6",marginStart:"roh60bw9"}};function a(a){var c=a.folder,d=a.maybeThread,e=a.currentThreadKey,f=a.entityType;a=a.entityId;var g=b("MWCMInboxLeftRailSidebarContext.react").useHook(),k=b("ReQLSubscription.bs").useFirst(b("MWCMUseUnreadThreadCount.bs").useHook(c.folderId));k=k!==void 0;var l=b("bs_caml").i64_neq(c.notificationMutedUntil,b("bs_caml_int64").zero)?!0:!1,m=b("bs_int64").to_string(c.folderId);e=e!==void 0?b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURL,{folder_id:m,thread_key:b("bs_int64").to_string(e)}):b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURLWithoutThread,{folder_id:m});m=b("bs_caml_obj").caml_equal(f,"community")&&b("bs_caml_obj").caml_equal(c.folderId,b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string));f=c.pictureUrl;a=i.jsx(b("MWProfilePhoto.react"),{shape:"roundedRect",size:24,source:{uri:f!==void 0?f:""}});if(d!==void 0){f=d.snippet;d=f!==void 0?i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("span",{children:f})]}):null}else d=null;f=i.jsxs(i.Fragment,{children:[i.jsx(b("MWText.react"),{type:"headline4",children:c.name+(l?" (muted)":"")}),d]});d=i.jsx(b("MDSListCell.react"),{content:k?i.jsx(b("MWBadgeContainer.bs").make,{badge:i.jsx("div",{className:(h||(h=b("stylex")))(j.badgeCollapsed),children:i.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,border:"white",size:8,testid:"cm-folder-badge"})}),badgeAlign:"topRight",children:a,expanding:!0}):a,contentXStyle:j.content,xstyle:[j.listCell],selected:m,size:"medium",onPress:function(a){return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group")},linkProps:{url:e},"aria-current":m?"page":"false","aria-label":c.name,expanding:!0});a=i.jsx(b("MDSListCell.react"),{addOnStart:a,addOnEnd:i.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,align:"end",verticalAlign:"center",expanding:!0,spacingHorizontal:8,children:[l?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MDSBellCrossSvgIcon.bs").make,{color:"disabled",size:"16"})}):null,k?i.jsx(b("MDSRowItem.react"),{xstyle:[j.badgeRowItem],children:i.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:8,testid:"cm-folder-badge"})}):null]}),content:i.jsx(b("MWText.react"),{color:"primary",type:"body3",numberOfLines:1,children:c.name}),contentXStyle:j.content,contentTestId:"mwcm-inbox-folder-name",xstyle:[j.listCell],selected:m,size:"medium",onPress:function(a){return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group")},linkProps:{url:e},"aria-current":m?"page":"false","aria-label":c.name,expanding:!0});return i.jsx(b("MWTooltip.react"),{tooltip:f,align:"middle",position:"end",children:g.isCollapsed?d:a},b("bs_int64").to_string(c.fbGroupId))}c=a;f.styles=j;f.make=c}),null);
__d("MWCMUseNavigateNextCommunity.bs",["MWInboxCommunityThreadsRouteBuilder.bs","MWInboxRouteBuilder.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_array","bs_curry","bs_int64","react","useCometRouterDispatcher","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("useCometRouterDispatcher")(),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("community_folders")),function(b){return b.folderId!==a}),function(a){a=a.isHidden;if(a!==void 0)return!a;else return!0})},[c])),f=h.useMemo(function(){return e.slice(0).sort(function(a,b){return a.name.localeCompare(b.name)})},[e]);return h.useCallback(function(a){a=f.length;a=a!==0?b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURLWithoutThread,{folder_id:b("bs_int64").to_string(b("bs_caml_array").get(f,0).folderId)}):b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildHomeURL,{});if(!(d==null)){d.go(a);return}},[b("bs_int64").to_string(a)])}f.useHook=a}),null);
__d("MWCMInboxLeftRailSidebarFolderEdit.bs",["CometCheckbox.react","LS.bs","LSDict","LSTransaction.bs","LSUpdateUserSettingsForCommunities","LSVec","MDSListCell.react","MWCMUseNavigateNextCommunity.bs","MWPBumpEntityKey.bs","MWProfilePhoto.react","MWText.react","MWTooltip.react","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={content:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",height:"tv7at329",minHeight:"rz7trki1",display:"j83agx80",alignItems:"bp9cbjyn"},listCell:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",marginTop:"hop8lmos",marginEnd:"nkwizq5d",marginBottom:"scwd0bx6",marginStart:"roh60bw9"},checkbox:{marginTop:"muag1w35",marginEnd:"oi9244e8"}};function a(a){var c=a.folder,d=a.entityId,e=b("useReStore")(),f=b("MWCMUseNavigateNextCommunity.bs").useHook(c.folderId),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").fromTableAscending(e.table("community_folders"))},[e]));a=i.useMemo(function(){return g.slice(0).sort(function(a,b){return a.name.localeCompare(b.name)})},[g]);var k=i.useCallback(function(a){a=!b("bs_belt_Option").getWithDefault(c.isHidden,!1);b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group_edit.community."+(a?"hide":"show"));var g=new(b("LSDict"))().set("community_id",c.folderId).set("is_hidden",a);b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSUpdateUserSettingsForCommunities")(b("LSVec").make([g]),b("LS.bs").make(a))},"readWrite"),void 0,void 0);a=b("bs_caml_obj").caml_equal(c.folderId,b("bs_belt_Option").map(d,b("bs_caml_format").caml_int64_of_string))&&a===!0;if(a)return b("bs_curry")._1(f,void 0)},[b("bs_int64").to_string(c.folderId),c.isHidden,a]);a=c.pictureUrl;a=i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.checkbox),children:i.jsx(b("CometCheckbox.react"),{checked:!b("bs_belt_Option").getWithDefault(c.isHidden,!1),label:null,name:c.name,onChange:function(a){},value:"checked",iconSize:16,labelIsHidden:!0})}),i.jsx(b("MWProfilePhoto.react"),{shape:"roundedRect",size:24,source:{uri:a!==void 0?a:""}})]});var l=i.jsx(i.Fragment,{children:i.jsx(b("MWText.react"),{type:"headline4",children:c.name})});return i.jsx(b("MWTooltip.react"),{tooltip:l,align:"middle",position:"end",children:i.jsx(b("MDSListCell.react"),{addOnStart:a,content:i.jsx(b("MWText.react"),{color:"primary",type:"body3",numberOfLines:1,children:c.name}),contentXStyle:j.content,contentTestId:"mwcm-inbox-folder-name",xstyle:[j.listCell],size:"medium",onPress:function(a){b("bs_curry")._1(k,void 0);return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group")},"aria-label":c.name,expanding:!0})},b("bs_int64").to_string(c.fbGroupId))}c=a;f.styles=j;f.make=c}),null);
__d("MWCMInboxLeftRailSidebarFolderList.bs",["fbt","CometColumn.react","CometColumnItem.react","CometPlaceholder.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWCMGating.bs","MWCMInboxLeftRailSidebarContext.react","MWCMInboxLeftRailSidebarFolder.bs","MWCMInboxLeftRailSidebarFolderEdit.bs","MWPBumpEntityKey.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_curry","bs_int64","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={manageCommunityLink:{paddingTop:"ipjc6fyt",paddingEnd:"p8fzw8mz",paddingBottom:"iuny7tx3",paddingStart:"pcp91wgn",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",marginTop:"muag1w35",opacity:"b5wmifdl",marginRight:"rlsy3bhk"},manageCommunityLinkVisible:{opacity:"pedkr2u6"},wrapper:{width:"k4urcfbm"},spacer:{width:"k4urcfbm",marginTop:"dbvibxzo",marginBottom:"q0rvokjs",borderTop:"lyyypj4u"}};function l(a){var c=a.isCollapsed,d=a.isEditing,e=a.setIsEditing;a=a.children;var f=j.useState(function(){return!1}),h=f[1],l=f[0];f=function(a){return b("bs_curry")._1(h,function(a){return!1})};var m=function(a){return b("bs_curry")._1(h,function(a){return!0})},n=g._("__JHASH__40AMCawUwpr__JHASH__"),o=g._("__JHASH__CEVmG20xvjn__JHASH__");n=b("MWCMGating.bs").isListManagementEnabled?j.jsx(b("CometPressable.react"),{"aria-label":d?n:o,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","community_group_edit."+(d?"start":"end"));return b("bs_curry")._1(e,function(a){return!a})},xstyle:function(a){return[k.manageCommunityLink,l||d?k.manageCommunityLinkVisible:!1]},children:j.jsx(b("MWText.react"),{color:"blueLink",type:"meta2",numberOfLines:1,children:l?d?n:o:null})}):null;return j.jsxs("div",{"data-testid":"communities-editor",className:(i||(i=b("stylex")))(k.wrapper),onFocus:m,onBlur:f,onMouseEnter:m,onMouseLeave:f,children:[j.jsx(b("MDSRow.react"),{children:c?j.jsx("div",{className:(i||(i=b("stylex")))(k.spacer)}):j.jsxs(j.Fragment,{children:[j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("CometColumn.react"),{children:j.jsx(b("CometColumnItem.react"),{paddingTop:0,paddingVertical:16,children:j.jsx(b("MWText.react"),{type:"headlineEmphasized4",children:g._("__JHASH__Y7sRQdb0Rya__JHASH__")})})})}),j.jsx(b("MDSRowItem.react"),{children:n})]})}),a]})}c={make:l};function m(a){var c=a.currentThreadKey,d=a.entityType,e=a.entityId,f=b("useReStore")();a=b("MWCMInboxLeftRailSidebarContext.react").useHook();a=a.isCollapsed;var h=j.useState(function(){return!1}),i=h[0],k=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").fromTableAscending(f.table("community_folders")),b("ReQL.bs").fromTableAscending(f.table("threads")))},[f])),m=j.useMemo(function(){return k.slice(0).sort(function(a,b){return a[0].name.localeCompare(b[0].name)})},[k]),n=j.useMemo(function(){return m.filter(function(a){a=a[0].isHidden;if(b("MWCMGating.bs").isListManagementEnabled&&a!==void 0)return!a;else return!0})},[m]),o=k.length!==0,p=n.length!==0;if(o){var q;o=0;i&&!a?q=m.map(function(a){a=a[0];return j.jsx(b("MWCMInboxLeftRailSidebarFolderEdit.bs").make,{folder:a,entityId:e},b("bs_int64").to_string(a.fbGroupId))}):o=1;o===1&&(q=p?n.map(function(a){var f=a[0];return j.jsx(b("MWCMInboxLeftRailSidebarFolder.bs").make,{folder:f,maybeThread:a[1],currentThreadKey:c,entityType:d,entityId:e},b("bs_int64").to_string(f.fbGroupId))}):a?null:j.jsx(b("MDSRow.react"),{paddingTop:0,children:j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("MWText.react"),{type:"meta2",children:g._("__JHASH__6DlW9rWUwr2__JHASH__")})})}));o=j.jsx(j.Fragment,{children:j.jsx(l,{isCollapsed:a,isEditing:i,setIsEditing:h[1],children:q})})}else o=null;return j.jsx(b("CometColumn.react"),{children:j.jsx(b("CometColumnItem.react"),{paddingHorizontal:8,children:o})})}d={make:m};function a(a){var c=a.threadKey,d=a.currentThreadKey,e=a.entityType;a=a.entityId;return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(m,{threadKey:c,currentThreadKey:d,entityType:e,entityId:a}),fallback:null})}e=a;f.styles=k;f.MWCommunitiesEditor=c;f.Impl=d;f.make=e}),null);