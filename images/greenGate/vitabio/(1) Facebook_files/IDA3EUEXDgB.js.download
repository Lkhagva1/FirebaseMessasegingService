if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("InterventionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5268998299882829"}),null);
__d("InterventionDialogQuery$Parameters",["InterventionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InterventionDialogQuery_facebookRelayOperation"),metadata:{},name:"InterventionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("InterventionDialog.entrypoint",["InterventionDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:a,queries:{InterventionDialogQueryReference:{parameters:c("InterventionDialogQuery$Parameters"),variables:{actionType:a.actionType,entityID:a.entityID,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("InterventionDialog.react").__setRef("InterventionDialog.entrypoint")};g["default"]=a}),98);
__d("oz-player/shims/www/ozReportUnexpectedErrorWWW",["FBLogger","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("getErrorSafe")(a);c("FBLogger")("oz_player").catching(a).mustfix("Unexpected error in "+b)}g["default"]=a}),98);
__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,d,e,f){e===void 0&&(e=function(){});f===void 0&&(f=function(){});var g=b.getOperationLogger(d).start();e(g);a.then(function(a){f(g),g.log()},function(a){f(g),g.setError(a),g.log()})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,d+" logger")})}g.executeOperationAndLog=a;g.monitorPromiseAndLogOperation=b}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$50=new Map(),this.$1=a}var b=a.prototype;b.start=function(){var a=Date.now();this.setClientTimeBegin(a);this.setClientTimeEnd(null);this.setClientTimeDuration(null);return this};b.log=function(){var a=Date.now(),b=this.getClientTimeBegin(),c=this.getClientTimeEnd();(b==null||b===0)&&(b=a,this.setClientTimeBegin(b));(c==null||c===0)&&(c=a,this.setClientTimeEnd(c));this.setClientTimeDuration(c-b)};b.setError=function(a){this.$2=a;return this};b.setPerSessionSampleRate=function(a){this.$3=a;return this};b.setAppendTarget=function(a){this.$45=a;return this};b.setOneObserved=function(a){this.$42=a;return this};b.setOneReqWave=function(a){this.$43=a;return this};b.setOneResWave=function(a){this.$44=a;return this};b.setIsP2pPlayback=function(a){this.$41=a;return this};b.setResult=function(a){this.$4=a;return this};b.setType=function(a){this.$5=a;return this};b.setClientTimeBegin=function(a){this.$6=a;return this};b.setClientTimeDuration=function(a){this.$7=a;return this};b.setClientTimeEnd=function(a){this.$8=a;return this};b.setSegmentCount=function(a){this.$15=a;return this};b.setTimeToFirstByte=function(a){this.$9=a;return this};b.setTimeToLastByte=function(a){this.$10=a;return this};b.setTimeToRequestStart=function(a){this.$11=a;return this};b.setTimeToRequestSent=function(a){this.$12=a;return this};b.setReason=function(a){this.$13=a;return this};b.setResource=function(a){this.$14=a;return this};b.setSegmentStartTime=function(a){this.$16=a;return this};b.setSegmentEndTime=function(a){this.$17=a;return this};b.setLength=function(a){this.$18=a;return this};b.setLiveheadPosition=function(a){this.$19=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$20=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$21=a;return this};b.setManifestType=function(a){this.$22=a;return this};b.setPriorityFloat=function(a){this.$23=a;return this};b.setAppendedBufferMs=function(a){this.$24=a;return this};b.setInitiator=function(a){this.$25=a;return this};b.setPreloadTime=function(a){this.$26=a;return this};b.setConcluder=function(a){this.$27=a;return this};b.setPreviousRepresentationID=function(a){this.$28=a;return this};b.setRepresentationID=function(a){this.$29=a;return this};b.setStreamSwitchReason=function(a){this.$30=a;return this};b.setState=function(a){this.$31=a;return this};b.setContentLengthHeader=function(a){this.$32=a;return this};b.setOriginHitHeader=function(a){this.$34=a;return this};b.setEdgeHitHeader=function(a){this.$35=a;return this};b.setFNAHitHeader=function(a){this.$36=a;return this};b.setCode=function(a){this.$33=a;return this};b.setResponseTimeMsHeader=function(a){this.$37=a;return this};b.setIsTemplatedManifest=function(a){this.$38=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$39=a;return this};b.setPlayerFormat=function(a){this.$40=a;return this};b.setIsRingBufferSample=function(a){this.$46=a;return this};b.setIsOnline=function(a){this.$47=a;return this};b.setProxyStatusHeader=function(a){this.$48=a;return this};b.setPlaybackFbmsParam=function(a){return this};b.setPreferredEdgeLatency=function(a){this.$49=a;return this};b.setUserInfo=function(a){return this};b.setDynamicStatusHeader=function(a){return this};b.getPerSessionSampleRate=function(){return this.$3};b.setMediaSourceSourceBuffer=function(a,b){this.$50.set(a,b);return this};b.unsetMediaSourceSourceBuffers=function(){this.$50.clear();return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$4};b.getType=function(){return this.$5};b.getClientTimeBegin=function(){return this.$6};b.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8};b.getTimeToRequestStart=function(){return this.$11};b.getTimeToRequestSent=function(){return this.$12};b.getReason=function(){return this.$13};b.getResource=function(){return this.$14};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$16};b.getSegmentEndTime=function(){return this.$17};b.getLength=function(){return this.$18};b.getLiveheadPosition=function(){return this.$19};b.getManifestType=function(){return this.$22};b.getPriorityFloat=function(){return this.$23};b.getAppendedBufferMs=function(){return this.$24};b.getInitiator=function(){return this.$25};b.getPreloadTime=function(){return this.$26};b.getConcluder=function(){return this.$27};b.getContentLengthHeader=function(){return this.$32};b.getOriginHitHeader=function(){return this.$34};b.getEdgeHitHeader=function(){return this.$35};b.getFNAHitHeader=function(){return this.$36};b.getCode=function(){return this.$33};b.getResponseTimeMsHeader=function(){return this.$37};b.getIsTemplatedManifest=function(){return this.$38};b.getOneObserved=function(){return this.$42};b.getOneReqWave=function(){return this.$43};b.getOneResWave=function(){return this.$44};b.getAppendTarget=function(){return this.$45};b.getIsRingBufferSample=function(){return this.$46};b.getIsOnline=function(){return this.$47};b.getProxyStatusHeader=function(){return this.$48};b.getMediaSourceSourceBuffers=function(){return this.$50};return a}();f["default"]=a}),66);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new h(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setPerSessionSampleRate=function(a){b.prototype.setPerSessionSampleRate.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPerSessionSampleRate(a)});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setClientTimeDuration=function(a){b.prototype.setClientTimeDuration.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeDuration(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNumHeader=function(a){b.prototype.setLiveheadSeqNumHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumHeader(a)});return this};c.setLiveheadSeqNumMpd=function(a){b.prototype.setLiveheadSeqNumMpd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumMpd(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setFNAHitHeader=function(a){b.prototype.setFNAHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setFNAHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setCode(a)});return this};c.setResponseTimeMsHeader=function(a){b.prototype.setResponseTimeMsHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResponseTimeMsHeader(a)});return this};c.setIsTemplatedManifest=function(a){b.prototype.setIsTemplatedManifest.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsTemplatedManifest(a)});return this};c.setIsLatencyCachupEnabled=function(a){b.prototype.setIsLatencyCachupEnabled.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsLatencyCachupEnabled(a)});return this};c.setPlayerFormat=function(a){b.prototype.setPlayerFormat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPlayerFormat(a)});return this};c.setIsP2pPlayback=function(a){b.prototype.setIsP2pPlayback.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsP2pPlayback(a)});return this};c.setOneObserved=function(a){b.prototype.setOneObserved.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneObserved(a)});return this};c.setOneReqWave=function(a){b.prototype.setOneReqWave.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneReqWave(a)});return this};c.setOneResWave=function(a){b.prototype.setOneResWave.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOneResWave(a)});return this};c.setAppendTarget=function(a){b.prototype.setAppendTarget.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendTarget(a)});return this};c.setIsRingBufferSample=function(a){b.prototype.setIsRingBufferSample.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsRingBufferSample(a)});return this};c.setIsOnline=function(a){b.prototype.setIsOnline.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsOnline(a)});return this};c.setProxyStatusHeader=function(a){b.prototype.setProxyStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setProxyStatusHeader(a)});return this};c.setPlaybackFbmsParam=function(a){b.prototype.setPlaybackFbmsParam.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPlaybackFbmsParam(a)});return this};c.setPreferredEdgeLatency=function(a){b.prototype.setPreferredEdgeLatency.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreferredEdgeLatency(a)});return this};c.setUserInfo=function(a){b.prototype.setUserInfo.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setUserInfo(a)});return this};c.setDynamicStatusHeader=function(a){b.prototype.setDynamicStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setDynamicStatusHeader(a)});return this};c.setMediaSourceSourceBuffer=function(a,c){b.prototype.setMediaSourceSourceBuffer.call(this,a,c);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setMediaSourceSourceBuffer(a,c)});return this};c.unsetMediaSourceSourceBuffers=function(){b.prototype.unsetMediaSourceSourceBuffers.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.unsetMediaSourceSourceBuffers()});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzMultiDestinationPerfLoggerProvider=a}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){a=a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b});return a};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.getBuffered().length;c++)b+=a.getBuffered().end(c)-a.getBuffered().start(c);return b}function b(a){return a.reduce(function(a,b){return a+(b.endTime-b.startTime)},0)}function c(a){return a.getBuffered().length==0?0:a.getBuffered().start(0)}function e(a){var b=null;try{b=a.getBuffered()}catch(a){return 0}return b.length==0?0:b.end(b.length-1)}function f(a){var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});return b}function h(a,b,c){c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));b=c>=0?parseFloat((a[c].endTime-b).toFixed(3)):0;a=c>=0?a.length-1-c:-1;return{bufferAheadSec:b,bufferedOffset:a}}function i(a,b,c){var e=a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,e);e=parseFloat(e.reduce(function(a,c){var e=c.rangeEnd;return e==null?a:a+(d("oz-player/utils/OzNumericalRangeUtil").isWithin(b,c)?e-b:d("oz-player/utils/OzNumericalRangeUtil").isLargerThan(c.rangeStart,b)?e-c.rangeStart:0)},0).toFixed(3));a=c>=0?a.length-1-c:-1;return{bufferAheadSec:e,bufferedOffset:a}}g.getTotalBufferedTime=a;g.getTotalInBufferedRanges=b;g.getStartBufferedTime=c;g.getEndBufferedTime=e;g.convertToBufferedTimeRangeArray=f;g.getBufferAheadInBufferedRanges=h;g.getTotalBufferAheadOfPosition=i}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a.getBool("generate_mos_segment_buffer_diff")){var e=d("oz-player/utils/OzNumericalRangeUtil").convertFromTimeRanges(c.getBufferedRanges());a=function(){var a=d("oz-player/utils/OzNumericalRangeUtil").firstAddedInSortedRanges(e,d("oz-player/utils/OzNumericalRangeUtil").convertFromTimeRanges(c.getBufferedRanges()));return{startTime:(a==null?void 0:a.rangeStart)||0,endTime:(a==null?void 0:a.rangeEnd)||0}};return a}else{var f=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);a=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return{startTime:f,endTime:a}};return a}}g.startMeasuringAppendedBuffer=a}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzObservedSourceBufferState2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzObservedSourceBufferState3=[];e.$OzObservedSourceBufferState6=function(){var a;try{a=e.$OzObservedSourceBufferState1.getBuffered()}catch(a){if(a.name==="InvalidStateError"){e.$OzObservedSourceBufferState3=[];return}else throw a}var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});e.$OzObservedSourceBufferState3=b};e.$OzObservedSourceBufferState1=b;e.$OzObservedSourceBufferState4=d;e.$OzObservedSourceBufferState5();return e}var d=b.prototype;d.$OzObservedSourceBufferState5=function(){var a=this;this.$OzObservedSourceBufferState2.release();this.$OzObservedSourceBufferState2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$OzObservedSourceBufferState2.addSubscriptions(this.$OzObservedSourceBufferState1.registerOnUpdateEndListener(function(){a.$OzObservedSourceBufferState6(),a.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState1.registerOnErrorListener(this.$OzObservedSourceBufferState6))};d.setSourceBuffer=function(a){this.$OzObservedSourceBufferState1=a,this.$OzObservedSourceBufferState5(),this.$OzObservedSourceBufferState6()};d.getBufferedRanges=function(){return this.$OzObservedSourceBufferState3};d.destroy=function(){a.prototype.destroy.call(this),this.$OzObservedSourceBufferState2.release(),this.$OzObservedSourceBufferState2.engage()};return b}(c("oz-player/utils/OzFakeEventTarget"));g["default"]=a}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551"};b=a;f["default"]=b}),66);
__d("oz-player/workers/OzProxyVideoNode",["oz-player/utils/OzFakeEventTarget"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this)||this;e.$OzProxyVideoNode1=0;e.$OzProxyVideoNode2=0;e.$OzProxyVideoNode3=!1;e.$OzProxyVideoNode4=!1;e.$OzProxyVideoNode5=1;e.$OzProxyVideoNode6=null;e.$OzProxyVideoNode7=null;e.$OzProxyVideoNode8=null;e.$OzProxyVideoNode9=b;e.$OzProxyVideoNode10=c;e.$OzProxyVideoNode11=d;Object.defineProperty(babelHelpers.assertThisInitialized(e),"currentTime",{get:function(){return e.$OzProxyVideoNode1},set:function(a){e.$OzProxyVideoNode11(a)},configurable:!0,enumerable:!0});Object.defineProperty(babelHelpers.assertThisInitialized(e),"duration",{get:function(){return e.$OzProxyVideoNode2},set:function(a){throw new Error("Unimplemented: cannot set video duration")},configurable:!0,enumerable:!0});Object.defineProperty(babelHelpers.assertThisInitialized(e),"seeking",{get:function(){return e.$OzProxyVideoNode3},set:function(a){throw new Error("Unimplemented: cannot set video seeking")},configurable:!0,enumerable:!0});Object.defineProperty(babelHelpers.assertThisInitialized(e),"paused",{get:function(){return e.$OzProxyVideoNode4},set:function(a){throw new Error("Unimplemented: cannot set video paused")},configurable:!0,enumerable:!0});Object.defineProperty(babelHelpers.assertThisInitialized(e),"playbackRate",{get:function(){return e.$OzProxyVideoNode5},set:function(a){throw new Error("Unimplemented: cannot set video playbackRate")},configurable:!0,enumerable:!0});Object.defineProperty(babelHelpers.assertThisInitialized(e),"error",{get:function(){return e.$OzProxyVideoNode6},set:function(a){throw new Error("Unimplemented: cannot set video error")},configurable:!0,enumerable:!0});return e}var c=b.prototype;c.setMediaSource=function(a){this.$OzProxyVideoNode8!=null&&URL.revokeObjectURL(this.$OzProxyVideoNode8),this.$OzProxyVideoNode7=a,a&&(this.$OzProxyVideoNode8=URL.createObjectURL(a)),this.$OzProxyVideoNode9(this.$OzProxyVideoNode8)};c.play=function(){this.$OzProxyVideoNode10()};c.setState=function(a){this.$OzProxyVideoNode1=a.currentTime;this.$OzProxyVideoNode2=a.duration;this.$OzProxyVideoNode3=a.seeking;this.$OzProxyVideoNode4=a.paused;this.$OzProxyVideoNode5=a.playbackRate;this.$OzProxyVideoNode6=(a=a.error)!=null?a:null};return b}(c("oz-player/utils/OzFakeEventTarget"));g["default"]=a}),98);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzSourceBufferUtil","oz-player/utils/ozConcatUint8Arrays","oz-player/workers/OzProxyVideoNode"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){var h=this;g===void 0&&(g=null);this.$3=null;this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=!1;this.$8=[];this.$12=!1;this.$13=!1;this.$15=0;this.$28=function(){if(h.$10.hasError()){h.$13=!1;h.$12=!1;var a=h.$10.getMediaErrorName();a=a!=null?a:"An unknown source buffer error occurred.";var b=h.$10.getErrorCode();b=b!=null?String(b):c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR;a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:b}});if(h.$11.getBool("fix_operation_deferred_promise_lifecycle")){b=h.$3;b&&(h.$3=null,b.reject(a))}else h.$3&&h.$3.reject(a),h.$3=null;h.cancelOperationAndCleanQueue()}else if(!h.$13){h.$13=!0;var d=h.$10.getVideoNode(),e=h.$28;d instanceof c("oz-player/workers/OzProxyVideoNode")?(d.addEventListener("error",e),b={remove:function(){d.removeEventListener("error",e)}}):b=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d,"error",e);h.$4.addSubscriptions(b)}};this.$18=function(){var a=h.$1;if(a!=null){a.getOperationLogger("source_buffer_updateend").setError((a=h.$10.getMediaErrorName())!=null?a:void 0).setCode(h.$10.getErrorCode()).setResult(h.$12?"failed":"success").log()}a=h.$3;a&&(h.$12?h.$28():h.$11.getBool("fix_operation_deferred_promise_lifecycle")?(h.$3=null,a.resolve()):(a.resolve(),h.$3&&(h.$3=null)))};this.$19=function(){var a=h.$1;if(a!=null){a.getOperationLogger("source_buffer_error").setError((a=h.$10.getMediaErrorName())!=null?a:void 0).setCode(h.$10.getErrorCode()).setResult("failed").log()}h.$12=!0};this.$1=g;this.$2=a;this.$11=b;this.$17();this.$9=new(c("oz-player/states/OzObservedSourceBufferState"))(this.$2,this.$11);this.$10=d;this.$14=e;this.$16=f}var b=a.prototype;b.$17=function(){this.$4.release(),this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$4.addSubscriptions(this.$2.registerOnUpdateEndListener(this.$18),this.$2.registerOnErrorListener(this.$19))};b.setSourceBuffer=function(a){var b=this;return this.cancelOperationAndCleanQueue()["catch"](function(){}).then(function(){b.$2=a,b.$17(),b.$9.setSourceBuffer(a)})};b.queueData=function(a,b,d){b===void 0&&(b=null);d===void 0&&(d=0);var e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:a,deferred:e,loggerProvider:b,appendTarget:d});a=e.getPromise();this.$7||this.$20()["catch"](function(a){});return a};b.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);a&&a.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var b=this.$21("cancel and clean");this.$8.forEach(function(a){a=a.deferred;a.reject(b)});this.$8=[];try{this.$14(this.$2)&&(this.$10.hasError()||this.$2.abort())}catch(b){var d=b;a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(d).setReason(this.$16?this.$16():null).log();if(this.$11.getBool("throw_cancel_operation_abort_failed"))throw d}a=c("oz-player/shims/OzMaybeNativePromise").resolve();d=this.$3;d&&(this.$11.getBool("fix_operation_deferred_promise_lifecycle")&&(this.$3=null),d.reject(b),a=d.getPromise()["catch"](function(){}));this.$5&&(this.$5.reject(b),this.$5=null);return a};b.getSourceBufferState=function(){return this.$9};b.clearRange=function(a,b){if(this.$11.getBool("clear_sbm_buffer_on_byte_threshold")){var c=this.getTotalTimeInBuffer(),d=this.getTotalTimeInBufferForRange(a,b);this.$15*=c>0?1-d/c:0}d=this.$11.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(a,0):a;b>0&&b>d&&this.$2.remove(d,b)};b.$22=function(a,b){a=this.$11.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(a,0):a;if(b>0&&b>a){var d=this.$23();this.clearRange(a,b);return d}return c("oz-player/shims/OzMaybeNativePromise").resolve()};b.clearRangeWithWait=function(a){var b=this,c=this.cancelOperationAndCleanQueue();a=a.reduce(function(a,c){var d=c.fromTime,e=c.toTime;return a.then(function(){return b.$22(d,e)})},c);return a};b.clear=function(){if(this.$2.getBuffered().length>0){var a=d("oz-player/utils/OzSourceBufferUtil").getStartBufferedTime(this.$2),b=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(this.$2);if(b>0)return this.$22(a,b)}return this.cancelOperationAndCleanQueue()};b.$23=function(a){if(this.$11.getBool("fix_operation_deferred_promise_lifecycle")){var b=null;if(this.$3)b=this.$3.getPromise(),a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");else if(this.$2.getIsUpdating()){var e=this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=e.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer")}else return c("oz-player/shims/OzMaybeNativePromise").resolve()}e=this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=e.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");return b};b.$24=function(){return this.$11.getBool("allow_concurrent_appends")||typeof importScripts!=="undefined"};b.$25=function(a,b,e){var f=this;if(!this.$24()&&this.$3!==null)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$26("cannot have concurrent appends"));var g=function(){if(f.$11.getBool("fix_operation_deferred_promise_lifecycle")&&(!f.$24()&&f.$3!==null))return c("oz-player/shims/OzMaybeNativePromise").reject(f.$26("cannot have concurrent appends (inner)"));var g=f.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),h=!1,i=!0;if(f.$11.getBool("test_source_buffer_attached_before_append"))try{i=!!f.$2.getBuffered()}catch(a){i=!1}try{h=f.$2.getIsUpdating();if(i)f.$2.appendBuffer(a);else{g.resolve();return g.getPromise()}}catch(a){i=a;var j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,k=i.name,l=i.message;k==="QuotaExceededError"?j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:f.$10.hasError()?j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:h?j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:k==="InvalidStateError"&&typeof l==="string"&&/SourceBuffer has been removed/.test(l)?j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:k==="InvalidStateError"&&(j=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);h=new(c("oz-player/utils/OzError"))({type:k==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":"OZ_SOURCE_BUFFER",description:String(l),extra:{originalError:i,code:j}});f.$3=null;g.reject(h)}k=g.getPromise();b&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(k,b,"append",function(b){var c;b.setLength(a.byteLength);c=(c=e==null?void 0:e.appendTarget)!=null?c:null;b.setAppendTarget(c)});return k};if(this.$2.getIsUpdating())return this.$23(b).then(g)["catch"](function(a){throw a});this.$15+=a.byteLength;return g()};b.$20=function(){var a=this;if(this.$7)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$26("Another unit of queued data is being appended."));var b=this.$8.shift();if(!b){this.$7=!1;return c("oz-player/shims/OzMaybeNativePromise").resolve()}var e=b.data,f=b.deferred,g=b.loggerProvider;b=b.appendTarget;this.$7=!0;e=e instanceof d("oz-player/shims/OzStreams").OzReadableStream?this.$27(e,g,b):this.$25(e,g,{appendTarget:b});var h=d("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$2,this.$9);return e["catch"](function(a){f.reject(a)}).then(function(){var b=h(),c=b.startTime;b=b.endTime;f.resolve({startTime_UNSAFE:c,endTime_UNSAFE:b,appendedSec:b-c});a.$7=!1;a.$20()["catch"](function(a){})})};b.$27=function(a,b,d){var e=this;this.$11.getBool("sbm_abort_on_append_new_readable_stream")&&this.$2.abort();var f=[],g=0,h=a.getReader();a=function a(){var i=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));e.$5=i;var j=null;e.$11.getNumber("sbm_read_timeout_ms")>0&&(j=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){var a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"ReadableStreamReader.read() timed out.",extra:{}});i.reject(a);e.$5=null;e.$6=j=null},e.$11.getNumber("sbm_read_timeout_ms")));h.read().then(function(a){i.resolve(a),e.$5=null,j&&(c("oz-player/shims/ozClearTimeout")(j),e.$6=j=null)})["catch"](function(a){i.reject(a),e.$5=null,j&&(c("oz-player/shims/ozClearTimeout")(j),e.$6=j=null)});return i.getPromise().then(function(h){if(h.done){var i=c("oz-player/utils/ozConcatUint8Arrays")(f);i=i.buffer;f.length=0;g=0;i=i;return i.byteLength>0?e.$25(i,b,{appendTarget:d}):c("oz-player/shims/OzMaybeNativePromise").resolve()}i=h.value;h=null;var j=i;if(d>0){i=i instanceof Uint8Array?i:new Uint8Array(i);f.push(i);g+=i.byteLength;if(g>=d){i=c("oz-player/utils/ozConcatUint8Arrays")(f);i=i.buffer;f.length=0;g=0;j=i}}j&&j.byteLength>=d&&(h=j);return h?e.$25(h,b,{appendTarget:d}).then(function(){return a()}):a()},function(a){if(e.$11.getBool("sbm_wait_for_abort_on_reject")){var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=e.$3?e.$3.getPromise():c("oz-player/shims/OzMaybeNativePromise").resolve();d["catch"](function(){}).then(function(){var c=e.$23();e.$2.abort();c.then(function(){b.reject(a)})["catch"](function(){b.reject(a)})});return b.getPromise()}else{e.$2.abort();return c("oz-player/shims/OzMaybeNativePromise").reject(a)}})};return a()};b.$26=function(a){a=new Error(a);a.name="invariant_violation";return a};b.$21=function(a){a=new Error("operation is cancelled: "+a);a.name="cancelled";return a};b.destroy=function(){var a=this,b=this.$1;b&&b.cloneContext().getOperationLogger("source_buffer_destroy").log();this.$6&&c("oz-player/shims/ozClearTimeout")(this.$6);this.$6=null;b=this.$3;if(b)if(this.$11.getBool("fix_operation_deferred_promise_lifecycle")){var d=function(){a.$3=null,a.$4.release(),a.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()};this.$13?b.getPromise().then(function(){d()},function(){d()})["catch"](function(){}):(d(),b.reject(this.$21("destroyed")))}else!this.$13?(b.reject(this.$21("destroyed")),this.$3=null,this.$4.release(),this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()):b.getPromise()["catch"](function(){a.$3=null,a.$4.release(),a.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))()});this.$9.destroy()};b.getTotalTimeInBufferForRange=function(a,b){var c=this.$2.getBuffered(),d=0;for(var e=0;e<c.length;++e)a<c.end(e)&&b>=c.start(e)&&(d+=Math.min(c.end(e),b)-Math.max(c.start(e),a));return d};b.getTotalTimeInBuffer=function(){var a=this.$2.getBuffered(),b=0;for(var c=0;c<a.length;++c)b+=a.end(c)-a.start(c);return b};b.getTotalAppendedBytes=function(){return this.$15};b.getDebug=function(){return{SourceBuffer:this.$2}};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["cr:3142"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3142")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;b===void 0&&(b=!1);d=a.call(this)||this;d.$OzErrorEmitter1=!1;d.$OzErrorEmitter2=!1;d.$OzErrorEmitter3=[];d.emitError=function(a){!d.$OzErrorEmitter1?d.$OzErrorEmitter2?d.$OzErrorEmitter3.push(a):d.$OzErrorEmitter1||c("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter2=b;return d}var d=b.prototype;d.onError=function(a){this.$OzErrorEmitter1=!0;a=this.addListener("error",a);this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError);return a};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}f.getMimeType=a}),66);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}f["default"]=a}),66);
__d("oz-player/workers/mirroring/OzMediaSourceMirroring",["oz-player/shims/OzDOMEventListener"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{readyState:a.readyState}}function a(a,b){var d=["sourceclose","sourceended","sourceopen"];d.forEach(function(d){c("oz-player/shims/OzDOMEventListener").listenDOMEvent(a,d,function(c){b(d,h(a))})});return h(a)}g["default"]=a}),98);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode","oz-player/workers/OzProxyVideoNode","oz-player/workers/mirroring/OzMediaSourceMirroring"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d){if(a instanceof EventTarget)return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(a,b,d);else{a.addEventListener(b,d);return{remove:function(){a.removeEventListener(b,d)}}}}a=function(){function a(a){var b=this,e=a.videoNode,f=a.config,g=a.perfLoggerProvider;g=g===void 0?new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]):g;var i=a.handleVttCaptionsUpdated,j=a.onClearVideoNodeError,k=a.onRetryVideoElementError;a=a.onMediaSourceEvent;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$6=[];this.$7=new Map();this.$8=[];this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$19=null;this.$20=null;this.$21=new(c("oz-player/utils/OzErrorEmitter"))();this.$28=function(){b.$33()||(b.$10=!1);if(!b.$34())return;var a=b.$8.shift();a&&(a(b.$2),b.$10=!0)};this.$5=g;this.$11=f;this.$1=e;this.$22=i;this.$16=j;this.$17=k;this.$18=a;this.$9=new(c("oz-player/media_source/OzMediaErrorProvider"))(this.$1);this.$3.addSubscriptions(h(this.$1,"error",function(){var a;b.$5.getOperationLogger("media_element_error").setError((a=b.$9.getMediaErrorName())!=null?a:void 0).setCode(b.$9.getErrorCode()).setResult("failed").log();b.$8=[];b.$6=[];b.$4.release();b.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();b.$15=b.$15||b.$14||b.$13;a=b.$1.error;var d=(a==null?void 0:a.code)||0,e=new(c("oz-player/utils/OzError"))({type:c("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(d),description:(a==null?void 0:a.message)!=null?a.message:"",extra:{originalError:a,code:String(d)}});if(b.$20!=null){b.$5.getOperationLogger("media_element_error").setError(a).setCode(d).setReason("mitigation_failed").setResult("failed").log();b.$21.emitError(e);return}b.$20=b.$1.currentTime;b.$19==null&&(b.$19=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){b.$19=null,b.$11.getBool("retry_video_element_error")&&(b.$17!=null&&b.$17(e),b.$23())},0))}),h(this.$1,"play",function(){b.$14=!0}),h(this.$1,"playing",function(){b.$14=!1,b.$15=!1,b.$20=null,b.$13=!0}),h(this.$1,"pause",function(){b.$14=!1,b.$13=!1,b.$15=!!b.$1.error}),h(this.$1,"ended",function(){b.$14=!1,b.$13=!1}));this.$2=new MediaSource();this.$18&&c("oz-player/workers/mirroring/OzMediaSourceMirroring")(this.$2,this.$18);this.$24(this.$2);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(this.$25(),this.$5,"media_source_open")}var b=a.prototype;b.$24=function(a){var b=this.$1;if(b instanceof c("oz-player/workers/OzProxyVideoNode"))b.setMediaSource(a);else{var d=b.src;d!==""&&URL.revokeObjectURL(d);a?b.src=URL.createObjectURL(a):b.removeAttribute("src")}};b.$23=function(){var a=this,b=[];this.$7.forEach(function(a){b.push(a.cancelOperationAndCleanQueue())});var d=c("oz-player/shims/OzMaybeNativePromise").all(b);d=d.then(function(){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;a.$11.getBool("create_new_media_source_on_node_reset")&&(a.$2=new MediaSource(),a.$18&&c("oz-player/workers/mirroring/OzMediaSourceMirroring")(a.$2,a.$18));a.$24(a.$2);return a.$25().then(function(){var b=[];a.$7.forEach(function(d,e){var c=a.$26(e).then(function(b){return d.setSourceBuffer(b).then(function(){a.$27(b,d,e)})});b.push(c)});return c("oz-player/shims/OzMaybeNativePromise").all(b)})});d.then(function(){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;a.$16&&a.$16();a.$20!=null&&(a.$1.currentTime=a.$20);if(a.$15){var b=a.$1.play();return b==null?void 0:b["catch"](function(){})}})["catch"](function(b){if(a.$11.getBool("abort_clear_video_node_on_detach")&&a.$12)return;a.$21.emitError(b)})};b.$25=function(){var a=this;if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(h(this.$2,"sourceopen",function(){b.resolve(),a.$28()}));return b.getPromise()};b.$26=function(a){var b=this,e;try{a.includes("vtt")?e=this.$29(a):e=this.$25().then(function(){return new(c("oz-player/media_source/OzMSESourceBufferImpl"))(b.$2.addSourceBuffer(a))});return e.then(function(c){if(b.$11.getBool("stub_safari_source_buffer_abort"))try{var e=c.abort,f=function(){b.$13&&e.call(c)};c.abort=function(){f()}}catch(a){}b.$6.push(c);b.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).log();return c})}catch(b){e=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+(b.message||String(b)),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw e}};b.$27=function(a,b,c){var e=this,f=d("oz-player/utils/OzMimeUtil").getMimeType(c);this.$4.addSubscriptions(a.registerOnUpdateEndListener(function(){var a=b.getTotalAppendedBytes(),c=e.$30(f);if(c>0&&a>=c&&e.$11.getBool("clear_sbm_buffer_on_byte_threshold")){a=Math.max(0,e.$1.currentTime-e.$31());a>0&&b.clearRangeWithWait([{fromTime:0,toTime:a}])}e.$28()}))};b.$29=function(a){var b=this;return c("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(d){if(b.$22!=null){var e=new d({onCaptionsChanged:b.$22}),f=c("oz-player/shims/ozThrottle")(function(){e.setCurrentVideoTime(b.$1.currentTime)},200);b.$3.addSubscriptions(h(b.$1,"timeupdate",function(){f()}),{remove:function(){f=function(){}}});return e}else throw new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): No handleVttCaptionsUpdated callback provided',extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})};b.createSourceBufferManager=function(a,b,e){var f=this;return c("oz-player/shims/OzMaybeNativePromise").all([this.$25(),this.$26(a)]).then(function(b){b[0];b=b[1];var e=new(c("oz-player/media_source/SourceBufferManager"))(b,f.$11,f.$9,function(a){return f.$2.readyState!=="closed"&&(f.$11.getBool("should_check_that_source_buffer_attached")?f.$32(a):!0)},function(){return f.$2.readyState},f.$5.cloneContext().setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)));f.$27(b,e,a);f.$7.set(a,e);return e})["catch"](function(a){if(a instanceof c("oz-player/utils/OzError"))throw a;else{a=new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM: "+(a.message||String(a))+", support AAC-LC="+(MediaSource.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false"),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()}});throw a}})};b.getReadyState=function(){return this.$2.readyState};b.getMediaSource=function(){return this.$2};b.notifyEndOfStream=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(h(this.$2,"sourceended",function(){e.resolve()}));this.$8.push(function(c){if(d.$11.getBool("check_mediasource_readystate_before_end_of_stream")){if(c.readyState==="open"){var e=d.$5.getOperationLogger("end_of_stream");e.setInitiator(a).setReason(b);e.log();c.endOfStream()}}else{e=d.$5.getOperationLogger("end_of_stream");e.setInitiator(a).setReason(b);e.log();c.endOfStream()}});this.$28();return e.getPromise()};b.updateDuration=function(a,b){var c=this.$2.duration;if(Number.isFinite(c)&&(!b||c>=a))return!1;this.$8.push(function(b){b.duration=a});this.$28();return!0};b.detach=function(){this.$19&&(c("oz-player/shims/ozClearTimeout")(this.$19),this.$19=null);this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers();this.$24(null);for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$4.release();this.$4.engage();this.$8=[];this.$10=!1;this.$12=!0};b.$34=function(){return!this.$33()&&this.$2.readyState==="open"&&!this.$10&&!this.$12};b.$33=function(){return this.$6.some(function(a){return a.getIsUpdating()})};b.$31=function(){return this.$11.getNumber("min_buffer_behind_playhead")};b.$30=function(a){var b={audio:this.$11.getNumber("audio_byte_threshold_to_clear_buffer"),video:this.$11.getNumber("video_byte_threshold_to_clear_buffer")};return(b=b[a])!=null?b:0};b.$32=function(a){for(var b=0;b<this.$2.sourceBuffers.length;b++){var c=this.$2.sourceBuffers[b];if(c===a)return!0}return!1};b.onError=function(a){return this.$21.onError(a)};return a}();g["default"]=a}),98);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function b(b,e,f,g){if(!d("oz-player/shims/OzFetchAPI").fetch)throw new Error("fetch api is missing");var h=null;if("AbortController"in a&&f!=null&&f!=0){var i=new AbortController();h=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return i.abort()},f);f={credentials:e,signal:i.signal}}else f={credentials:e};g!=null&&(f=babelHelpers["extends"]({},f,{referrer:g}));return d("oz-player/shims/OzFetchAPI").fetch(b,f).then(function(a){c("oz-player/shims/ozClearTimeout")(h);return a})}g["default"]=b}),98);